(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{1715:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(5155),s=r(2115),n=r(6695),l=r(6126),o=r(1997),d=r(5832);function c(){let[e,t]=(0,s.useState)([]),[r,c]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=(0,d.BK)(e=>{t(e.filter(e=>"Comunicado"===e.status)),c(!1)},e=>{console.error("Erro ao carregar comunicados:",e),c(!1)});return()=>e()},[]),r)?(0,a.jsx)(o.A,{}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:"Comunicados de Conte\xfado"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Aqui voc\xea encontra os comunicados sobre pedidos que n\xe3o puderam ser atendidos no momento."})]}),0===e.length?(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"flex flex-col items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-card-foreground mb-2",children:"Nenhum comunicado por aqui!"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Quando houver comunicados sobre seus pedidos, eles aparecer\xe3o nesta se\xe7\xe3o."})]})})}):(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6",children:e.map(e=>(0,a.jsxs)(n.Zp,{className:"overflow-hidden",children:[(0,a.jsx)(n.aR,{className:"pb-2 px-3 pt-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-semibold truncate",children:e.title}),(0,a.jsxs)(n.BT,{className:"text-xs",children:[e.type," â€¢ ",new Date(e.requestedAt).toLocaleDateString("pt-BR")]})]}),(0,a.jsx)(l.E,{variant:"secondary",className:"ml-2 flex-shrink-0 text-xs px-2 py-1",children:"Comunicado"})]})}),(0,a.jsxs)(n.Wu,{className:"pt-0 px-3 pb-3",children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("div",{className:"aspect-[2/3] relative mb-3",children:(0,a.jsx)("img",{src:e.logo||"https://placehold.co/300x450.png",alt:"Cover for ".concat(e.title),className:"w-full h-full object-cover rounded-md"})})}),e.communicatedMessage&&(0,a.jsx)("div",{className:"mt-3 p-2 bg-orange-500/10 rounded-lg border border-orange-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-orange-500 rounded-full mt-1 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-orange-700 mb-1",children:"Comunicado:"}),(0,a.jsx)("p",{className:"text-xs text-orange-600 leading-relaxed",children:e.communicatedMessage})]})]})}),e.notes&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-muted/50 rounded text-xs text-muted-foreground",children:[(0,a.jsx)("span",{className:"font-medium",children:"Observa\xe7\xe3o original:"})," ",e.notes]})]})]},e.id))})]})}},1997:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(5155),s=r(2115),n=r(5476),l=r(5863),o=r(9434);let d=s.forwardRef((e,t)=>{let{className:r,value:s,...n}=e;return(0,a.jsx)(l.bL,{ref:t,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...n,children:(0,a.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});function c(){let{isInitialLoading:e}=(0,s.useContext)(n.z),[t,r]=(0,s.useState)(0),[l,o]=(0,s.useState)(e);return((0,s.useEffect)(()=>{if(!e){r(100);let e=setTimeout(()=>{o(!1)},500);return()=>clearTimeout(e)}let t=setInterval(()=>{r(e=>e>=95?(clearInterval(t),95):e+5)},50);return()=>{clearInterval(t)}},[e]),l)?(0,a.jsx)("div",{className:"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-background transition-opacity duration-500 ".concat(e?"opacity-100":"opacity-0"),children:(0,a.jsxs)("div",{className:"w-full max-w-md p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Aguarde para conex\xe3o com o servidor"}),(0,a.jsx)(d,{value:t,className:"w-full"})]})}):null}d.displayName=l.bL.displayName},4238:(e,t,r)=>{Promise.resolve().then(r.bind(r,1715))},4477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return n},findSourceMapURL:function(){return s.findSourceMapURL}});let a=r(3806),s=r(1818),n=r(4979).createServerReference},4760:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var a=r(4477);let s=(0,a.createServerReference)("007e87f2e2dbbb8d99d374e9797296581838690a1e",a.callServer,void 0,a.findSourceMapURL,"getM3UItems")},5476:(e,t,r)=>{"use strict";r.d(t,{z:()=>d,L:()=>m});var a=r(5155),s=r(2115),n=r(4760),l=r(4477);let o=(0,l.createServerReference)("00aef7fe477b36c101029c0e540702e6f4225a9e00",l.callServer,void 0,l.findSourceMapURL,"getAllM3UItems"),d=(0,s.createContext)({m3uItems:[],allM3uItems:[],isInitialLoading:!0}),c=null,i=null,u=!1,m=e=>{let{children:t}=e,[r,l]=(0,s.useState)(c||[]),[m,f]=(0,s.useState)(i||[]),[x,p]=(0,s.useState)(!u);return(0,s.useEffect)(()=>{(async()=>{if(!u)try{let[e,t]=await Promise.all([(0,n.Q)(),o()]);c=e,i=t,l(e),f(t)}catch(e){console.error("Failed to load M3U items for context:",e),c=[],i=[],l([]),f([])}finally{p(!1),u=!0}})()},[]),(0,a.jsx)(d.Provider,{value:{m3uItems:r,allM3uItems:m,isInitialLoading:x},children:t})}},5832:(e,t,r)=>{"use strict";r.d(t,{A9:()=>u,BK:()=>d,H$:()=>c,HJ:()=>x,Mm:()=>i,R$:()=>v,X9:()=>b,hs:()=>m,mK:()=>f,r_:()=>p,u$:()=>g});var a=r(6104),s=r(5317);let n=(0,s.rJ)(a.db,"content-requests"),l=(0,s.rJ)(a.db,"problem-reports"),o=(e,t,r,a)=>{let n=(0,s.P)(e,(0,s.My)(t,"desc"));return(0,s.aQ)(n,e=>{let a=[];e.forEach(e=>{let r=e.data(),s=e.id,n=r[t].toDate().toISOString();a.push({...r,id:s,[t]:n})}),r(a)},e=>{a(e)})},d=(e,t)=>o(n,"requestedAt",e,t),c=(e,t)=>o(l,"reportedAt",e,t),i=async e=>{let t={...e,requestedAt:s.Dc.now(),status:"Pendente"};await (0,s.gS)(n,t)},u=async(e,t)=>{let r=(0,s.H9)(a.db,"content-requests",e);await (0,s.mZ)(r,{status:t,addedToCategory:""})},m=async(e,t,r)=>{let n=(0,s.H9)(a.db,"content-requests",e),l={status:"Adicionado",addedToCategory:t};r&&r.trim()&&(l.addedObservation=r.trim()),await (0,s.mZ)(n,l)},f=async e=>{let t=(0,s.H9)(a.db,"content-requests",e);await (0,s.kd)(t)},x=async e=>{let t={...e,reportedAt:s.Dc.now(),status:"Aberto"};await (0,s.gS)(l,t)},p=async(e,t)=>{let r=(0,s.H9)(a.db,"problem-reports",e);await (0,s.mZ)(r,{status:t})},v=async e=>{let t=(0,s.H9)(a.db,"problem-reports",e);await (0,s.kd)(t)},g=async(e,t)=>{let r=(0,s.H9)(a.db,"content-requests",e);await (0,s.mZ)(r,{status:"Comunicado",communicatedMessage:t,communicatedAt:(0,s.O5)()})},b=async(e,t)=>{let r=(0,s.H9)(a.db,"content-requests",e);await (0,s.mZ)(r,{addedObservation:t,updatedAt:(0,s.O5)()})}},5863:(e,t,r)=>{"use strict";r.d(t,{C1:()=>y,bL:()=>N});var a=r(2115),s=r(6081),n=r(3540),l=r(5155),o="Progress",[d,c]=(0,s.A)(o),[i,u]=d(o),m=a.forwardRef((e,t)=>{var r,a,s,o;let{__scopeProgress:d,value:c=null,max:u,getValueLabel:m=p,...f}=e;(u||0===u)&&!b(u)&&console.error((r="".concat(u),a="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let x=b(u)?u:100;null===c||h(c,x)||console.error((s="".concat(c),o="Progress","Invalid prop `value` of value `".concat(s,"` supplied to `").concat(o,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let N=h(c,x)?c:null,y=g(N)?m(N,x):void 0;return(0,l.jsx)(i,{scope:d,value:N,max:x,children:(0,l.jsx)(n.sG.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":g(N)?N:void 0,"aria-valuetext":y,role:"progressbar","data-state":v(N,x),"data-value":null!=N?N:void 0,"data-max":x,...f,ref:t})})});m.displayName=o;var f="ProgressIndicator",x=a.forwardRef((e,t)=>{var r;let{__scopeProgress:a,...s}=e,o=u(f,a);return(0,l.jsx)(n.sG.div,{"data-state":v(o.value,o.max),"data-value":null!=(r=o.value)?r:void 0,"data-max":o.max,...s,ref:t})});function p(e,t){return"".concat(Math.round(e/t*100),"%")}function v(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function g(e){return"number"==typeof e}function b(e){return g(e)&&!isNaN(e)&&e>0}function h(e,t){return g(e)&&!isNaN(e)&&e<=t&&e>=0}x.displayName=f;var N=m,y=x},6104:(e,t,r)=>{"use strict";let a;r.d(t,{db:()=>d});var s=r(3915),n=r(5317),l=r(9509);let o={projectId:l.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"cineassist-knotb",appId:l.env.NEXT_PUBLIC_FIREBASE_APP_ID||"1:1041433213591:web:428754d08842988c8e87d2",storageBucket:l.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"cineassist-knotb.appspot.com",apiKey:l.env.NEXT_PUBLIC_FIREBASE_API_KEY||"AIzaSyAMHnI0IsSaMKehzbVLRm-1KmL8iIdwkk8",authDomain:l.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"cineassist-knotb.firebaseapp.com",measurementId:l.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-5G152F942B",messagingSenderId:l.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"1041433213591"};a=(0,s.Dk)().length?(0,s.Dk)()[0]:(0,s.Wp)(o);let d=(0,n.aU)(a)},6126:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var a=r(5155);r(2115);var s=r(2085),n=r(9434);let l=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...s})}},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>i,ZB:()=>d,Zp:()=>l,aR:()=>o,wL:()=>u});var a=r(5155),s=r(2115),n=r(9434);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border border-border bg-card text-card-foreground shadow-sm",r),...s})});l.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});i.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[135,184,248,441,684,358],()=>t(4238)),_N_E=e.O()}]);