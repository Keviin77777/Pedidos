(()=>{var e={};e.id=619,e.ids=[619],e.modules={1759:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=t(65239),r=t(48088),i=t(88170),n=t.n(i),l=t(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o={children:["",{children:["(main)",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,38359)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,60448)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e),async e=>(await Promise.resolve().then(t.bind(t,59645))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,21661)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e),async e=>(await Promise.resolve().then(t.bind(t,59645))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(main)/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29844:(e,s,t)=>{"use strict";t.d(s,{tU:()=>E,av:()=>$,j7:()=>k,Xi:()=>_});var a=t(60687),r=t(43210),i=t(70569),n=t(11273),l=t(72942),d=t(46059),o=t(3416),c=t(43),u=t(65551),m=t(96963),p="Tabs",[x,h]=(0,n.A)(p,[l.RG]),g=(0,l.RG)(),[f,v]=x(p),j=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:i,defaultValue:n,orientation:l="horizontal",dir:d,activationMode:p="automatic",...x}=e,h=(0,c.jH)(d),[g,v]=(0,u.i)({prop:r,onChange:i,defaultProp:n});return(0,a.jsx)(f,{scope:t,baseId:(0,m.B)(),value:g,onValueChange:v,orientation:l,dir:h,activationMode:p,children:(0,a.jsx)(o.sG.div,{dir:h,"data-orientation":l,...x,ref:s})})});j.displayName=p;var b="TabsList",y=r.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...i}=e,n=v(b,t),d=g(t);return(0,a.jsx)(l.bL,{asChild:!0,...d,orientation:n.orientation,dir:n.dir,loop:r,children:(0,a.jsx)(o.sG.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:s})})});y.displayName=b;var N="TabsTrigger",w=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,disabled:n=!1,...d}=e,c=v(N,t),u=g(t),m=q(c.baseId,r),p=S(c.baseId,r),x=r===c.value;return(0,a.jsx)(l.q7,{asChild:!0,...u,focusable:!n,active:x,children:(0,a.jsx)(o.sG.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":p,"data-state":x?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:m,...d,ref:s,onMouseDown:(0,i.m)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(r)}),onKeyDown:(0,i.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(r)}),onFocus:(0,i.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||n||!e||c.onValueChange(r)})})})});w.displayName=N;var C="TabsContent",P=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:i,forceMount:n,children:l,...c}=e,u=v(C,t),m=q(u.baseId,i),p=S(u.baseId,i),x=i===u.value,h=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(d.C,{present:n||x,children:({present:t})=>(0,a.jsx)(o.sG.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:p,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:h.current?"0s":void 0},children:t&&l})})});function q(e,s){return`${e}-trigger-${s}`}function S(e,s){return`${e}-content-${s}`}P.displayName=C;var A=t(4780);let E=j,k=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(y,{ref:t,className:(0,A.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));k.displayName=y.displayName;let _=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(w,{ref:t,className:(0,A.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));_.displayName=w.displayName;let $=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(P,{ref:t,className:(0,A.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));$.displayName=P.displayName},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34729:(e,s,t)=>{"use strict";t.d(s,{T:()=>n});var a=t(60687),r=t(43210),i=t(4780);let n=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...s}));n.displayName="Textarea"},37366:e=>{"use strict";e.exports=require("dns")},38359:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Usu\xe1rio\\\\Documents\\\\Servidor\\\\script\\\\Pedidos\\\\Pedidos\\\\src\\\\app\\\\(main)\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\page.tsx","default")},38867:(e,s,t)=>{Promise.resolve().then(t.bind(t,90011))},41936:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(82614).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81074:(e,s,t)=>{"use strict";t.d(s,{A9:()=>m,BK:()=>o,H$:()=>c,HJ:()=>h,Mm:()=>u,R$:()=>f,X9:()=>j,hs:()=>p,mK:()=>x,r_:()=>g,u$:()=>v});var a=t(33784),r=t(75535),i=t(7605);let n=(0,r.rJ)(a.db,"content-requests"),l=(0,r.rJ)(a.db,"problem-reports"),d=(e,s,t,a)=>{let i=(0,r.P)(e,(0,r.My)(s,"desc"));return(0,r.aQ)(i,e=>{let a=[];e.forEach(e=>{let t=e.data(),r=e.id,i=t[s].toDate().toISOString(),n={...t,id:r,[s]:i};"updatedAt"in t&&t.updatedAt&&(n.updatedAt=t.updatedAt.toDate().toISOString()),a.push(n)}),t(a)},e=>{a(e)})},o=(e,s)=>d(n,"requestedAt",e,s),c=(e,s)=>d(l,"reportedAt",e,s),u=async e=>{let s={...e,requestedAt:r.Dc.now(),status:"Pendente"},t=await (0,r.gS)(n,s);e.username&&(await (0,i.ap)({userId:e.username,requestId:t.id,requestTitle:e.title,status:"Pendente",requestedAt:new Date().toISOString()}),await (0,i.Bj)(e.username,e.title,"Pendente"))},m=async(e,s)=>{let t=(0,r.H9)(a.db,"content-requests",e);await (0,r.mZ)(t,{status:s,addedToCategory:""})},p=async(e,s,t)=>{let l=(0,r.H9)(a.db,"content-requests",e),d={status:"Adicionado",addedToCategory:s,updatedAt:r.Dc.now()};t&&t.trim()&&(d.addedObservation=t.trim());try{let a=await (0,r.GG)((0,r.P)(n,(0,r._M)("__name__","==",e))),o=a.docs[0]?.data();await (0,r.mZ)(l,d),o?.username&&(await (0,i.wK)(e,"Adicionado",{addedToCategory:s,addedObservation:t?.trim()}),await (0,i.Rw)(o.username,o.title,s))}catch(e){throw console.error("Error marking as added:",e),e}},x=async e=>{try{let s=await (0,r.GG)((0,r.P)(n,(0,r._M)("__name__","==",e))),t=s.docs[0]?.data(),l=(0,r.H9)(a.db,"content-requests",e);if(await (0,r.kd)(l),t?.username){for(let s of(await (0,r.GG)((0,r.P)((0,r.rJ)(a.db,"user-requests"),(0,r._M)("requestId","==",e)))).docs)await (0,r.kd)(s.ref);await (0,i.cI)(t.username,t.title)}}catch(e){throw console.error("Error deleting request:",e),e}},h=async e=>{let s={...e,reportedAt:r.Dc.now(),status:"Aberto"};await (0,r.gS)(l,s)},g=async(e,s)=>{let t=(0,r.H9)(a.db,"problem-reports",e);await (0,r.mZ)(t,{status:s})},f=async e=>{let s=(0,r.H9)(a.db,"problem-reports",e);await (0,r.kd)(s)},v=async(e,s)=>{let t=(0,r.H9)(a.db,"content-requests",e);try{let a=await (0,r.GG)((0,r.P)(n,(0,r._M)("__name__","==",e))),l=a.docs[0]?.data();await (0,r.mZ)(t,{status:"Comunicado",communicatedMessage:s,communicatedAt:(0,r.O5)()}),l?.username&&(await (0,i.wK)(e,"Comunicado",{communicatedMessage:s}),await (0,i.dj)(l.username,l.title,s))}catch(e){throw console.error("Error marking as communicated:",e),e}},j=async(e,s)=>{let t=(0,r.H9)(a.db,"content-requests",e);await (0,r.mZ)(t,{addedObservation:s,updatedAt:(0,r.O5)()})}},81630:e=>{"use strict";e.exports=require("http")},83809:(e,s,t)=>{"use strict";t.d(s,{A:()=>m});var a=t(60687),r=t(30474),i=t(44493),n=t(96834),l=t(43210),d=t(68123),o=t(4780);let c=l.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(d.bL,{ref:r,className:(0,o.cn)("relative overflow-hidden",e),...t,children:[(0,a.jsx)(d.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,a.jsx)(u,{}),(0,a.jsx)(d.OK,{})]}));c.displayName=d.bL.displayName;let u=l.forwardRef(({className:e,orientation:s="vertical",...t},r)=>(0,a.jsx)(d.VM,{ref:r,orientation:s,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:(0,a.jsx)(d.lr,{className:"relative flex-1 rounded-full bg-border"})}));function m({item:e,showCategory:s=!0}){return(0,a.jsxs)(i.Zp,{className:"flex flex-col h-full overflow-hidden transition-all duration-300",children:[(0,a.jsx)(i.aR,{className:"p-0",children:(0,a.jsx)("div",{className:"aspect-[2/3] relative",children:(0,a.jsx)(r.default,{src:e.logo||"https://placehold.co/400x600.png",alt:`Cover for ${e.name}`,fill:!0,sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 20vw",className:"object-cover","data-ai-hint":"movie poster"})})}),(0,a.jsxs)(i.Wu,{className:"flex-grow p-4 space-y-2",children:[(0,a.jsx)(i.ZB,{className:"text-lg font-bold leading-tight line-clamp-2",children:e.name}),(0,a.jsx)(c,{className:"h-24",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.synopsis||"No synopsis available."})})]}),s&&e.category&&(0,a.jsx)(i.wL,{className:"p-4 pt-0",children:(0,a.jsx)(n.E,{variant:"secondary",className:"truncate",children:e.category})})]})}u.displayName=d.VM.displayName},85723:(e,s,t)=>{Promise.resolve().then(t.bind(t,38359))},90011:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>T});var a=t(60687),r=t(43210),i=t(89667),n=t(41936),l=t(83809),d=t(29867),o=t(44493),c=t(90660),u=t(63503),m=t(29523),p=t(80013),x=t(34729),h=t(82614);let g=(0,h.A)("FilePlus2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]),f=(0,h.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var v=t(81074),j=t(77042);function b(){let{toast:e}=(0,d.dj)(),{userInfo:s}=(0,j.useXtream)(),[t,n]=(0,r.useState)(""),[l,o]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[b,y]=(0,r.useState)(null),[N,w]=(0,r.useState)(""),[C,P]=(0,r.useState)(!1),[q,S]=(0,r.useState)(!1),A=(0,r.useRef)(null),E=e=>{h(e),y(null),w("")},k=async a=>{if(a.preventDefault(),t.trim().length<2)return void e({title:"T\xedtulo Inv\xe1lido",description:"O t\xedtulo deve ter pelo menos 2 caracteres.",variant:"destructive"});S(!0);try{let a=c;b&&N&&(a=N),await (0,v.Mm)({title:t,notes:l,type:"Pedido Manual",logo:a||null,username:s?.username||"Usu\xe1rio desconhecido"}),e({title:"Pedido Manual Enviado!",description:`Recebemos seu pedido para "${t}".`}),P(!1),n(""),o(""),h(""),y(null),w("")}catch(s){e({title:"Erro ao Enviar Pedido",description:"N\xe3o foi poss\xedvel enviar seu pedido. Tente novamente.",variant:"destructive"})}finally{S(!1)}};return(0,a.jsxs)(u.lG,{open:C,onOpenChange:P,children:[(0,a.jsx)(u.zM,{asChild:!0,children:(0,a.jsxs)(m.$,{variant:"ghost",className:"text-sm text-muted-foreground",children:[(0,a.jsx)(g,{className:"mr-2 h-4 w-4"}),"N\xe3o encontrou? Pe\xe7a manualmente"]})}),(0,a.jsx)(u.Cf,{className:"sm:max-w-[425px]",children:(0,a.jsxs)("form",{onSubmit:k,children:[(0,a.jsxs)(u.c7,{children:[(0,a.jsx)(u.L3,{children:"Pedir Conte\xfado Manualmente"}),(0,a.jsx)(u.rr,{children:"Use este formul\xe1rio se n\xe3o encontrou o que procurava na busca."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(p.J,{htmlFor:"title",className:"text-right",children:"T\xedtulo"}),(0,a.jsx)(i.p,{id:"title",value:t,onChange:e=>n(e.target.value),className:"col-span-3",placeholder:"Ex: O Poderoso Chef\xe3o (1972)",disabled:q})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-start gap-4",children:[(0,a.jsx)(p.J,{htmlFor:"notes",className:"text-right pt-2",children:"Observa\xe7\xe3o"}),(0,a.jsx)(x.T,{id:"notes",value:l,onChange:e=>o(e.target.value),className:"col-span-3",placeholder:"Alguma informa\xe7\xe3o adicional? Ex: Vers\xe3o do diretor, dublagem espec\xedfica, etc.",disabled:q})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-start gap-4",children:[(0,a.jsx)(p.J,{className:"text-right pt-2",children:"Imagem"}),(0,a.jsxs)("div",{className:"col-span-3 space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"imageUrl",className:"text-sm text-muted-foreground",children:"URL da imagem (opcional)"}),(0,a.jsx)(i.p,{id:"imageUrl",type:"url",value:c,onChange:e=>E(e.target.value),placeholder:"https://exemplo.com/imagem.jpg",disabled:q})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{className:"text-sm text-muted-foreground",children:"Ou fa\xe7a upload de uma imagem (JPG, JPEG, PNG)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m.$,{type:"button",variant:"outline",size:"sm",onClick:()=>A.current?.click(),disabled:q,children:[(0,a.jsx)(f,{className:"mr-2 h-4 w-4"}),"Escolher arquivo"]}),(0,a.jsx)("input",{ref:A,type:"file",accept:".jpg,.jpeg,.png,image/jpeg,image/jpg,image/png",onChange:s=>{let t=s.target.files?.[0];if(t){if(t.size>5242880)return void e({title:"Arquivo muito grande",description:"A imagem deve ter menos de 5MB.",variant:"destructive"});if(!["image/jpeg","image/jpg","image/png"].includes(t.type))return void e({title:"Formato n\xe3o suportado",description:"Por favor, selecione apenas imagens JPG, JPEG ou PNG.",variant:"destructive"});y(t),h("");let s=new FileReader;s.onload=e=>{w(e.target?.result)},s.readAsDataURL(t)}},className:"hidden",disabled:q}),b&&(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:b.name})]})]}),(N||c)&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)(p.J,{className:"text-sm text-muted-foreground",children:"Pr\xe9via:"}),(0,a.jsx)("div",{className:"mt-2 w-32 h-48 relative rounded-md overflow-hidden bg-muted",children:(0,a.jsx)("img",{src:N||c,alt:"Pr\xe9via da imagem",className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none"}})})]})]})]})]}),(0,a.jsxs)(u.Es,{children:[(0,a.jsx)(u.HM,{asChild:!0,children:(0,a.jsx)(m.$,{type:"button",variant:"secondary",disabled:q,children:"Cancelar"})}),(0,a.jsx)(m.$,{type:"submit",disabled:q,children:q?"Enviando...":"Enviar Pedido"})]})]})})]})}var y=t(58450),N=t(29844),w=t(19210);function C({item:e,children:s}){let{toast:t}=(0,d.dj)(),{userInfo:i}=(0,j.useXtream)(),[n,l]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),f=async s=>{s.preventDefault(),g(!0);try{await (0,v.Mm)({title:e.name,type:e.category,logo:e.logo,notes:n,username:i?.username||"Usu\xe1rio desconhecido"}),t({title:"Pedido Enviado!",description:`Recebemos seu pedido para "${e.name}".`}),c(!1),l("")}catch(e){t({title:"Erro ao Enviar",description:"N\xe3o foi poss\xedvel enviar seu pedido. Tente novamente.",variant:"destructive"})}finally{g(!1)}};return(0,a.jsxs)(u.lG,{open:o,onOpenChange:c,children:[(0,a.jsx)(u.zM,{asChild:!0,children:s}),(0,a.jsx)(u.Cf,{className:"sm:max-w-[425px]",children:(0,a.jsxs)("form",{onSubmit:f,children:[(0,a.jsxs)(u.c7,{children:[(0,a.jsxs)(u.L3,{children:['Solicitar "',e.name,'"']}),(0,a.jsx)(u.rr,{children:"Adicione uma observa\xe7\xe3o ao seu pedido, se necess\xe1rio."})]}),(0,a.jsx)("div",{className:"grid gap-4 py-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 items-start gap-2",children:[(0,a.jsx)(p.J,{htmlFor:"notes",className:"text-left",children:"Observa\xe7\xe3o (opcional)"}),(0,a.jsx)(x.T,{id:"notes",value:n,onChange:e=>l(e.target.value),className:"col-span-3 min-h-[120px]",placeholder:"Ex: \xc1udio em ingl\xeas com legenda, vers\xe3o do diretor, etc.",disabled:h})]})}),(0,a.jsxs)(u.Es,{children:[(0,a.jsx)(u.HM,{asChild:!0,children:(0,a.jsx)(m.$,{type:"button",variant:"secondary",disabled:h,children:"Cancelar"})}),(0,a.jsx)(m.$,{type:"submit",disabled:h,children:h?"Enviando...":"Confirmar Pedido"})]})]})})]})}var P=t(24224),q=t(4780);let S=(0,P.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),A=r.forwardRef(({className:e,variant:s,...t},r)=>(0,a.jsx)("div",{ref:r,role:"alert",className:(0,q.cn)(S({variant:s}),e),...t}));A.displayName="Alert",r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h5",{ref:t,className:(0,q.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let E=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,q.cn)("text-sm [&_p]:leading-relaxed",e),...s}));E.displayName="AlertDescription";var k=t(99196);function _({item:e,children:s}){let[t,n]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),[c,h]=(0,r.useState)(""),[g,f]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),{toast:y}=(0,d.dj)(),N=async s=>{if(s.preventDefault(),!c.trim())return void y({title:"Campo Obrigat\xf3rio",description:"Por favor, informe a temporada que deseja atualizar.",variant:"destructive"});o(!0);try{let s=g.trim()?`Temporada ${c}, Epis\xf3dio ${g}`:`Temporada ${c}`,t=`${e.name} - Atualiza\xe7\xe3o: ${s}`;await (0,v.Mm)({title:t,type:"S\xe9rie",notes:j.trim()?`${s}. Observa\xe7\xe3o: ${j}`:s,logo:e.logo||""}),y({title:"Pedido de Atualiza\xe7\xe3o Enviado!",description:"Sua solicita\xe7\xe3o foi registrada e ser\xe1 analisada pela nossa equipe."}),n(!1),h(""),f(""),b("")}catch(e){console.error("Erro ao enviar pedido de atualiza\xe7\xe3o:",e),y({title:"Erro ao Enviar Pedido",description:"N\xe3o foi poss\xedvel enviar sua solicita\xe7\xe3o. Tente novamente.",variant:"destructive"})}finally{o(!1)}};return(0,a.jsxs)(u.lG,{open:t,onOpenChange:n,children:[(0,a.jsx)(u.zM,{asChild:!0,children:s}),(0,a.jsx)(u.Cf,{className:"sm:max-w-[425px]",children:(0,a.jsxs)("form",{onSubmit:N,children:[(0,a.jsxs)(u.c7,{children:[(0,a.jsx)(u.L3,{children:"Pedir Atualiza\xe7\xe3o de S\xe9rie"}),(0,a.jsx)(u.rr,{children:"Solicite a adi\xe7\xe3o de novas temporadas ou epis\xf3dios para s\xe9ries j\xe1 dispon\xedveis no sistema."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)(A,{children:[(0,a.jsx)(k.A,{className:"h-4 w-4"}),(0,a.jsxs)(E,{children:[(0,a.jsx)("strong",{children:"Importante:"})," Certifique-se de que a temporada/epis\xf3dio j\xe1 foi lan\xe7ado oficialmente antes de fazer o pedido. N\xe3o solicitamos conte\xfado que ainda n\xe3o foi disponibilizado pelos est\xfadios."]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(p.J,{htmlFor:"season",className:"text-left",children:"Temporada *"}),(0,a.jsx)(i.p,{id:"season",value:c,onChange:e=>h(e.target.value),placeholder:"Ex: 2",className:"col-span-1",disabled:l,required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(p.J,{htmlFor:"episode",className:"text-left",children:"Epis\xf3dio (opcional)"}),(0,a.jsx)(i.p,{id:"episode",value:g,onChange:e=>f(e.target.value),placeholder:"Ex: 5",className:"col-span-1",disabled:l})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(p.J,{htmlFor:"notes",className:"text-left",children:"Observa\xe7\xe3o Adicional (opcional)"}),(0,a.jsx)(x.T,{id:"notes",value:j,onChange:e=>b(e.target.value),className:"min-h-[80px]",placeholder:"Ex: Dublagem em portugu\xeas, qualidade HD, etc.",disabled:l})]})]}),(0,a.jsxs)(u.Es,{children:[(0,a.jsx)(m.$,{type:"button",variant:"secondary",onClick:()=>n(!1),disabled:l,children:"Cancelar"}),(0,a.jsx)(m.$,{type:"submit",disabled:l,children:l?"Enviando...":"Enviar Pedido"})]})]})})]})}let $=process.env.NEXT_PUBLIC_TMDB_API_KEY||"279e039eafd4ccc7c289a589c9b613e3";function M(){let[e,s]=(0,r.useState)(""),[t,u]=(0,r.useState)("multi"),[p,x]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[f,v]=(0,r.useState)([]),[j,P]=(0,r.useState)(new Set),[q,S]=(0,r.useState)(new Map),{m3uItems:A,allM3uItems:E,isInitialLoading:k}=(0,r.useContext)(w.z),{toast:M}=(0,d.dj)(),T=e=>e?e.toLowerCase().replace(/\s*(s\d{2}e\d{2}|s\d{1,2}|t\d{1,2}e\d{1,2}).*$/i,"").replace(/\s*\(\d{4}\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/ & /g," e ").replace(/[^\w\s]/gi,"").replace(/\s+/g," ").trim():"",D=(e,s)=>{if(e.toLowerCase()===s.toLowerCase())return!0;let t=T(e),a=T(s);if(t===a)return!0;let r=e.toLowerCase(),i=s.toLowerCase(),n=e=>{let s={i:1,ii:2,iii:3,iv:4,v:5,vi:6,vii:7,viii:8,ix:9,x:10},t=e.split(" "),a=t[t.length-1];if(s[a])return t[t.length-1]=s[a].toString(),t.join(" ");for(let e=0;e<t.length;e++)s[t[e]]&&(t[e]=s[t[e]].toString());return t.join(" ")};if(n(r)===n(i))return!0;if(/\d/.test(r)!==/\d/.test(i)&&r.replace(/\s+\d+.*$/,"")===i.replace(/\s+\d+.*$/,""))return!0;if(r.includes("rambo")&&i.includes("rambo")&&r.replace(/rambo.*/,"rambo").trim()===i.replace(/rambo.*/,"rambo").trim())return!0;if(r.includes(":")&&!i.includes(":")||!r.includes(":")&&i.includes(":"))return!1;if(r.includes(":")&&i.includes(":")){let e=r.split(":")[1]?.trim(),s=i.split(":")[1]?.trim();if(e&&s&&e!==s)return!1}if(r.includes("parte")&&!i.includes("parte")||!r.includes("parte")&&i.includes("parte")||r.includes("edi\xe7\xe3o")&&!i.includes("edi\xe7\xe3o")||!r.includes("edi\xe7\xe3o")&&i.includes("edi\xe7\xe3o")||r.includes("especial")&&!i.includes("especial")||!r.includes("especial")&&i.includes("especial")||r.includes("document\xe1rio")&&!i.includes("document\xe1rio")||!r.includes("document\xe1rio")&&i.includes("document\xe1rio")||r.includes("lenda")&&!i.includes("lenda")||!r.includes("lenda")&&i.includes("lenda")||r.includes("\xfaltimo")&&!i.includes("\xfaltimo")||!r.includes("\xfaltimo")&&i.includes("\xfaltimo")||r.includes("caminho")&&!i.includes("caminho")||!r.includes("caminho")&&i.includes("caminho")||r.includes("busca")&&!i.includes("busca")||!r.includes("busca")&&i.includes("busca")||r.includes("criando")&&!i.includes("criando")||!r.includes("criando")&&i.includes("criando")||r.includes("cavaleiro")&&!i.includes("cavaleiro")||!r.includes("cavaleiro")&&i.includes("cavaleiro")||r.includes("mestre")&&!i.includes("mestre")||!r.includes("mestre")&&i.includes("mestre")||r.includes("fogo")&&!i.includes("fogo")||!r.includes("fogo")&&i.includes("fogo")||r.includes("cinzas")&&!i.includes("cinzas")||!r.includes("cinzas")&&i.includes("cinzas")||r.includes("\xe1gua")&&!i.includes("\xe1gua")||!r.includes("\xe1gua")&&i.includes("\xe1gua")||r.includes("gl\xf3ria")&&!i.includes("gl\xf3ria")||!r.includes("gl\xf3ria")&&i.includes("gl\xf3ria")||r.includes("mund")&&!i.includes("mund")||!r.includes("mund")&&i.includes("mund")||r.includes("pandora")&&!i.includes("pandora")||!r.includes("pandora")&&i.includes("pandora")||r.includes("tulkun")&&!i.includes("tulkun")||!r.includes("tulkun")&&i.includes("tulkun")||r.includes("eywa")&&!i.includes("eywa")||!r.includes("eywa")&&i.includes("eywa")||r.includes("mergulho")&&!i.includes("mergulho")||!r.includes("mergulho")&&i.includes("mergulho")||r.includes("profundo")&&!i.includes("profundo")||!r.includes("profundo")&&i.includes("profundo")||r.includes("dragao")&&!i.includes("dragao")||!r.includes("dragao")&&i.includes("dragao")||r.includes("treinar")&&!i.includes("treinar")||!r.includes("treinar")&&i.includes("treinar")||r.includes("seu")&&!i.includes("seu")||!r.includes("seu")&&i.includes("seu"))return!1;let l=/\d/.test(r),d=/\d/.test(i);if(l!==d)return!1;if(l&&d){let e=r.match(/\d+/g)||[],s=i.match(/\d+/g)||[];if(e.length>0&&s.length>0&&e.join("")!==s.join(""))return!1}let o=t.split(" ").filter(e=>e.length>2),c=a.split(" ").filter(e=>e.length>2);if(o[0]===c[0]&&o.length>=1&&c.length>=1&&3>=Math.abs(t.length-a.length)){let e=o.filter(e=>!c.includes(e)),s=c.filter(e=>!o.includes(e));if(e.length>1||s.length>1||o.length>2&&1===c.length||c.length>2&&1===o.length)return!1;let t=o.filter(e=>c.includes(e)),a=Math.max(o.length,c.length);return!(t.length/a<.8)}return!1},R=async(e,s)=>{try{let t=`https://api.themoviedb.org/3/search/${s}?api_key=${$}&query=${encodeURIComponent(e)}&language=pt-BR`,a=await fetch(t);if(!a.ok)return console.error(`TMDB API error: ${a.status} ${a.statusText}`),[];let r=await a.json();if(r.results&&r.results.length>0)return r.results.filter(e=>("movie"===e.media_type||"tv"===e.media_type||"movie"===s||"tv"===s)&&e.poster_path).map(e=>({name:e.title||e.name,synopsis:e.overview||"Nenhuma sinopse dispon\xedvel.",logo:e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:null,category:"tv"===e.media_type||"tv"===s?"S\xe9rie":"Filme",type:"tv"===e.media_type||"tv"===s?"series":"movie",url:""}));return[]}catch(e){return console.error("Error fetching from TMDB:",e),[]}};return(0,r.useCallback)(async(e,s)=>{if(k||e.trim().length<3){v([]),g(!1);return}x(!0),g(!0);try{let t=await R(e,s);if(0===t.length){v([]),x(!1);return}let a=t.map(e=>{let s=j.has(e.name),t=q.has(e.name);if(s)return{...e,status:"requested"};let a=[];for(let s of E)D(e.name,s.name)&&a.push(s);if(a.length>0){let s=a[0].category;return{...e,status:"existing",existingCategory:s}}return t?{...e,status:"added",addedCategory:q.get(e.name)?.category,addedObservation:q.get(e.name)?.observation}:{...e,status:"requestable"}});v(a)}catch(e){M({title:"Erro na Busca",description:"Ocorreu um erro ao buscar. Tente novamente mais tarde.",variant:"destructive"}),v([])}finally{x(!1)}},[M,j,E,k,q]),(0,a.jsxs)("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[(0,a.jsx)("div",{className:"flex-grow container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl lg:text-3xl font-bold tracking-tight text-primary",children:"Solicitar um Filme ou S\xe9rie"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"N\xe3o encontrou o que procurava? Verifique aqui e fa\xe7a seu pedido."})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full max-w-2xl mx-auto items-center space-y-4",children:[(0,a.jsx)(N.tU,{value:t,onValueChange:u,children:(0,a.jsxs)(N.j7,{children:[(0,a.jsx)(N.Xi,{value:"multi",children:"Todos"}),(0,a.jsx)(N.Xi,{value:"movie",children:"Filmes"}),(0,a.jsx)(N.Xi,{value:"tv",children:"S\xe9ries"})]})}),(0,a.jsxs)("div",{className:"relative w-full flex-grow",children:[(0,a.jsx)(n.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,a.jsx)(i.p,{type:"text",placeholder:`Digite o nome d${"tv"===t?"a s\xe9rie":"o filme"}...`,value:e,onChange:e=>s(e.target.value),className:"pl-10 text-lg py-6 rounded-full shadow-inner bg-card",disabled:k}),p&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"})})]}),(0,a.jsx)(b,{})]}),(0,a.jsxs)("div",{className:"pt-8",children:[p&&(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:Array.from({length:6}).map((e,s)=>(0,a.jsx)(c.A,{},`skeleton-search-${s}`))}),h&&!p&&(0,a.jsx)(a.Fragment,{children:f.length>0?(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:f.map((e,s)=>"loading"===e.status?(0,a.jsx)(c.A,{},`skeleton-${s}`):(0,a.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,a.jsx)(l.A,{item:e,showCategory:"existing"!==e.status}),"requestable"===e.status?(0,a.jsx)(C,{item:e,children:(0,a.jsx)(m.$,{className:"w-full",children:"Solicitar"})}):"requested"===e.status?(0,a.jsxs)(m.$,{variant:"outline",disabled:!0,className:"w-full cursor-default",children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Solicitado"]}):"added"===e.status?(0,a.jsx)("div",{className:"flex flex-col gap-2 w-full",children:(0,a.jsxs)("div",{className:"text-center text-xs p-2 rounded-md bg-secondary text-secondary-foreground cursor-default",children:[(0,a.jsx)("p",{className:"font-bold",children:"J\xe1 est\xe1 no sistema"}),e.addedCategory&&(0,a.jsxs)("p",{className:"truncate",children:["em: ",(0,a.jsx)("span",{className:"text-green-500 font-semibold",children:e.addedCategory})]}),e.addedObservation&&(0,a.jsxs)("div",{className:"mt-1 p-1 bg-primary/10 rounded text-primary text-xs",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Observa\xe7\xe3o:"}),(0,a.jsx)("p",{className:"break-words",children:e.addedObservation})]})]})}):(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,a.jsxs)("div",{className:"text-center text-xs p-2 rounded-md bg-secondary text-secondary-foreground cursor-default",children:[(0,a.jsx)("p",{className:"font-bold",children:"J\xe1 est\xe1 no sistema"}),e.existingCategory&&(0,a.jsxs)("p",{className:"truncate",children:["em: ",(0,a.jsx)("span",{className:"text-green-500 font-semibold",children:e.existingCategory})]})]}),"series"===e.type&&(0,a.jsx)(_,{item:e,children:(0,a.jsx)(m.$,{variant:"outline",size:"sm",className:"w-full text-xs",children:"Pedir Atualiza\xe7\xe3o"})})]})]},`result-${s}`))}):e.length>2&&(0,a.jsx)(o.Zp,{className:"text-center py-10 px-6 border-dashed bg-card",children:(0,a.jsxs)(o.Wu,{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-card-foreground mb-2",children:"Nenhum resultado encontrado"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:['N\xe3o encontramos nenhum conte\xfado para "',e,'". Verifique o t\xedtulo ou fa\xe7a um pedido manual.']})]})})})]})]})}),(0,a.jsx)("footer",{className:"text-center p-4 text-muted-foreground text-sm",children:(0,a.jsxs)("p",{children:["Pedidos Cine \xa9 ",new Date().getFullYear()]})})]})}function T(){return(0,a.jsx)(M,{})}},90660:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(60687),r=t(4780);function i({className:e,...s}){return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...s})}var n=t(44493);function l(){return(0,a.jsxs)(n.Zp,{className:"flex flex-col h-full overflow-hidden",children:[(0,a.jsx)(n.aR,{className:"p-0",children:(0,a.jsx)(i,{className:"aspect-[2/3] w-full"})}),(0,a.jsxs)(n.Wu,{className:"flex-grow p-4 space-y-2",children:[(0,a.jsx)(i,{className:"h-5 w-4/5"}),(0,a.jsxs)("div",{className:"space-y-1 pt-2",children:[(0,a.jsx)(i,{className:"h-3 w-full"}),(0,a.jsx)(i,{className:"h-3 w-full"}),(0,a.jsx)(i,{className:"h-3 w-2/3"})]})]}),(0,a.jsx)(n.wL,{className:"p-4 pt-0",children:(0,a.jsx)(i,{className:"h-5 w-1/2"})})]})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[447,771,319,833,516,832,670],()=>t(1759));module.exports=a})();