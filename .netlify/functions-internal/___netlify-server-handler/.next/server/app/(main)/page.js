(()=>{var e={};e.id=619,e.ids=[619],e.modules={1759:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=t(65239),r=t(48088),i=t(88170),l=t.n(i),n=t(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o={children:["",{children:["(main)",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,38359)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,60448)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e),async e=>(await Promise.resolve().then(t.bind(t,59645))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,21661)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e),async e=>(await Promise.resolve().then(t.bind(t,59645))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(main)/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},38359:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Usu\xe1rio\\\\Documents\\\\Servidor\\\\script\\\\Pedidos\\\\Pedidos\\\\src\\\\app\\\\(main)\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\page.tsx","default")},38867:(e,s,t)=>{Promise.resolve().then(t.bind(t,90011))},55511:e=>{"use strict";e.exports=require("crypto")},58450:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(82614).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83809:(e,s,t)=>{"use strict";t.d(s,{A:()=>m});var a=t(60687),r=t(30474),i=t(44493),l=t(96834),n=t(43210),d=t(68123),o=t(4780);let c=n.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(d.bL,{ref:r,className:(0,o.cn)("relative overflow-hidden",e),...t,children:[(0,a.jsx)(d.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,a.jsx)(u,{}),(0,a.jsx)(d.OK,{})]}));c.displayName=d.bL.displayName;let u=n.forwardRef(({className:e,orientation:s="vertical",...t},r)=>(0,a.jsx)(d.VM,{ref:r,orientation:s,className:(0,o.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:(0,a.jsx)(d.lr,{className:"relative flex-1 rounded-full bg-border"})}));function m({item:e,showCategory:s=!0}){return(0,a.jsxs)(i.Zp,{className:"flex flex-col h-full overflow-hidden transition-all duration-300",children:[(0,a.jsx)(i.aR,{className:"p-0",children:(0,a.jsx)("div",{className:"aspect-[2/3] relative",children:(0,a.jsx)(r.default,{src:e.logo||"https://placehold.co/400x600.png",alt:`Cover for ${e.name}`,fill:!0,sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 20vw",className:"object-cover","data-ai-hint":"movie poster"})})}),(0,a.jsxs)(i.Wu,{className:"flex-grow p-4 space-y-2",children:[(0,a.jsx)(i.ZB,{className:"text-lg font-bold leading-tight line-clamp-2",children:e.name}),(0,a.jsx)(c,{className:"h-24",children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.synopsis||"No synopsis available."})})]}),s&&e.category&&(0,a.jsx)(i.wL,{className:"p-4 pt-0",children:(0,a.jsx)(l.E,{variant:"secondary",className:"truncate",children:e.category})})]})}u.displayName=d.VM.displayName},85723:(e,s,t)=>{Promise.resolve().then(t.bind(t,38359))},90011:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>z});var a=t(60687),r=t(43210),i=t(89667),l=t(41936),n=t(83809),d=t(29867),o=t(44493),c=t(90660),u=t(63503),m=t(29523),p=t(80013),x=t(34729),h=t(82614);let g=(0,h.A)("FilePlus2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]),v=(0,h.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var f=t(81074),j=t(77042);function b(){let{toast:e}=(0,d.dj)(),{userInfo:s}=(0,j.n)(),[t,l]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[b,N]=(0,r.useState)(null),[y,w]=(0,r.useState)(""),[P,C]=(0,r.useState)(!1),[S,q]=(0,r.useState)(!1),E=(0,r.useRef)(null),$=e=>{h(e),N(null),w("")},k=async a=>{if(a.preventDefault(),t.trim().length<2)return void e({title:"T\xedtulo Inv\xe1lido",description:"O t\xedtulo deve ter pelo menos 2 caracteres.",variant:"destructive"});q(!0);try{let a=c;b&&y&&(a=y),await (0,f.Mm)({title:t,notes:n,type:"Pedido Manual",logo:a||null,username:s?.username||"Usu\xe1rio desconhecido"}),e({title:"Pedido Manual Enviado!",description:`Recebemos seu pedido para "${t}".`}),C(!1),l(""),o(""),h(""),N(null),w("")}catch(s){e({title:"Erro ao Enviar Pedido",description:"N\xe3o foi poss\xedvel enviar seu pedido. Tente novamente.",variant:"destructive"})}finally{q(!1)}};return(0,a.jsxs)(u.lG,{open:P,onOpenChange:C,children:[(0,a.jsx)(u.zM,{asChild:!0,children:(0,a.jsxs)(m.$,{variant:"ghost",className:"text-sm text-muted-foreground",children:[(0,a.jsx)(g,{className:"mr-2 h-4 w-4"}),"N\xe3o encontrou? Pe\xe7a manualmente"]})}),(0,a.jsx)(u.Cf,{className:"sm:max-w-[425px]",children:(0,a.jsxs)("form",{onSubmit:k,children:[(0,a.jsxs)(u.c7,{children:[(0,a.jsx)(u.L3,{children:"Pedir Conte\xfado Manualmente"}),(0,a.jsx)(u.rr,{children:"Use este formul\xe1rio se n\xe3o encontrou o que procurava na busca."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(p.J,{htmlFor:"title",className:"text-right",children:"T\xedtulo"}),(0,a.jsx)(i.p,{id:"title",value:t,onChange:e=>l(e.target.value),className:"col-span-3",placeholder:"Ex: O Poderoso Chef\xe3o (1972)",disabled:S})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-start gap-4",children:[(0,a.jsx)(p.J,{htmlFor:"notes",className:"text-right pt-2",children:"Observa\xe7\xe3o"}),(0,a.jsx)(x.T,{id:"notes",value:n,onChange:e=>o(e.target.value),className:"col-span-3",placeholder:"Alguma informa\xe7\xe3o adicional? Ex: Vers\xe3o do diretor, dublagem espec\xedfica, etc.",disabled:S})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-start gap-4",children:[(0,a.jsx)(p.J,{className:"text-right pt-2",children:"Imagem"}),(0,a.jsxs)("div",{className:"col-span-3 space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{htmlFor:"imageUrl",className:"text-sm text-muted-foreground",children:"URL da imagem (opcional)"}),(0,a.jsx)(i.p,{id:"imageUrl",type:"url",value:c,onChange:e=>$(e.target.value),placeholder:"https://exemplo.com/imagem.jpg",disabled:S})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(p.J,{className:"text-sm text-muted-foreground",children:"Ou fa\xe7a upload de uma imagem (JPG, JPEG, PNG)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(m.$,{type:"button",variant:"outline",size:"sm",onClick:()=>E.current?.click(),disabled:S,children:[(0,a.jsx)(v,{className:"mr-2 h-4 w-4"}),"Escolher arquivo"]}),(0,a.jsx)("input",{ref:E,type:"file",accept:".jpg,.jpeg,.png,image/jpeg,image/jpg,image/png",onChange:s=>{let t=s.target.files?.[0];if(t){if(t.size>5242880)return void e({title:"Arquivo muito grande",description:"A imagem deve ter menos de 5MB.",variant:"destructive"});if(!["image/jpeg","image/jpg","image/png"].includes(t.type))return void e({title:"Formato n\xe3o suportado",description:"Por favor, selecione apenas imagens JPG, JPEG ou PNG.",variant:"destructive"});N(t),h("");let s=new FileReader;s.onload=e=>{w(e.target?.result)},s.readAsDataURL(t)}},className:"hidden",disabled:S}),b&&(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:b.name})]})]}),(y||c)&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)(p.J,{className:"text-sm text-muted-foreground",children:"Pr\xe9via:"}),(0,a.jsx)("div",{className:"mt-2 w-32 h-48 relative rounded-md overflow-hidden bg-muted",children:(0,a.jsx)("img",{src:y||c,alt:"Pr\xe9via da imagem",className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none"}})})]})]})]})]}),(0,a.jsxs)(u.Es,{children:[(0,a.jsx)(u.HM,{asChild:!0,children:(0,a.jsx)(m.$,{type:"button",variant:"secondary",disabled:S,children:"Cancelar"})}),(0,a.jsx)(m.$,{type:"submit",disabled:S,children:S?"Enviando...":"Enviar Pedido"})]})]})})]})}var N=t(58450),y=t(29844),w=t(19210);function P({item:e,children:s}){let{toast:t}=(0,d.dj)(),{userInfo:i}=(0,j.n)(),[l,n]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),v=async s=>{s.preventDefault(),g(!0);try{await (0,f.Mm)({title:e.name,type:e.category,logo:e.logo,notes:l,username:i?.username||"Usu\xe1rio desconhecido"}),t({title:"Pedido Enviado!",description:`Recebemos seu pedido para "${e.name}".`}),c(!1),n("")}catch(e){t({title:"Erro ao Enviar",description:"N\xe3o foi poss\xedvel enviar seu pedido. Tente novamente.",variant:"destructive"})}finally{g(!1)}};return(0,a.jsxs)(u.lG,{open:o,onOpenChange:c,children:[(0,a.jsx)(u.zM,{asChild:!0,children:s}),(0,a.jsx)(u.Cf,{className:"sm:max-w-[425px]",children:(0,a.jsxs)("form",{onSubmit:v,children:[(0,a.jsxs)(u.c7,{children:[(0,a.jsxs)(u.L3,{children:['Solicitar "',e.name,'"']}),(0,a.jsx)(u.rr,{children:"Adicione uma observa\xe7\xe3o ao seu pedido, se necess\xe1rio."})]}),(0,a.jsx)("div",{className:"grid gap-4 py-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 items-start gap-2",children:[(0,a.jsx)(p.J,{htmlFor:"notes",className:"text-left",children:"Observa\xe7\xe3o (opcional)"}),(0,a.jsx)(x.T,{id:"notes",value:l,onChange:e=>n(e.target.value),className:"col-span-3 min-h-[120px]",placeholder:"Ex: \xc1udio em ingl\xeas com legenda, vers\xe3o do diretor, etc.",disabled:h})]})}),(0,a.jsxs)(u.Es,{children:[(0,a.jsx)(u.HM,{asChild:!0,children:(0,a.jsx)(m.$,{type:"button",variant:"secondary",disabled:h,children:"Cancelar"})}),(0,a.jsx)(m.$,{type:"submit",disabled:h,children:h?"Enviando...":"Confirmar Pedido"})]})]})})]})}var C=t(24224),S=t(4780);let q=(0,C.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),E=r.forwardRef(({className:e,variant:s,...t},r)=>(0,a.jsx)("div",{ref:r,role:"alert",className:(0,S.cn)(q({variant:s}),e),...t}));E.displayName="Alert",r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h5",{ref:t,className:(0,S.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let $=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,S.cn)("text-sm [&_p]:leading-relaxed",e),...s}));$.displayName="AlertDescription";var k=t(99196);function A({item:e,children:s}){let[t,l]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),[c,h]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),{toast:N}=(0,d.dj)(),y=async s=>{if(s.preventDefault(),!c.trim())return void N({title:"Campo Obrigat\xf3rio",description:"Por favor, informe a temporada que deseja atualizar.",variant:"destructive"});o(!0);try{let s=g.trim()?`Temporada ${c}, Epis\xf3dio ${g}`:`Temporada ${c}`,t=`${e.name} - Atualiza\xe7\xe3o: ${s}`;await (0,f.Mm)({title:t,type:"S\xe9rie",notes:j.trim()?`${s}. Observa\xe7\xe3o: ${j}`:s,logo:e.logo||""}),N({title:"Pedido de Atualiza\xe7\xe3o Enviado!",description:"Sua solicita\xe7\xe3o foi registrada e ser\xe1 analisada pela nossa equipe."}),l(!1),h(""),v(""),b("")}catch(e){console.error("Erro ao enviar pedido de atualiza\xe7\xe3o:",e),N({title:"Erro ao Enviar Pedido",description:"N\xe3o foi poss\xedvel enviar sua solicita\xe7\xe3o. Tente novamente.",variant:"destructive"})}finally{o(!1)}};return(0,a.jsxs)(u.lG,{open:t,onOpenChange:l,children:[(0,a.jsx)(u.zM,{asChild:!0,children:s}),(0,a.jsx)(u.Cf,{className:"sm:max-w-[425px]",children:(0,a.jsxs)("form",{onSubmit:y,children:[(0,a.jsxs)(u.c7,{children:[(0,a.jsx)(u.L3,{children:"Pedir Atualiza\xe7\xe3o de S\xe9rie"}),(0,a.jsx)(u.rr,{children:"Solicite a adi\xe7\xe3o de novas temporadas ou epis\xf3dios para s\xe9ries j\xe1 dispon\xedveis no sistema."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)(E,{children:[(0,a.jsx)(k.A,{className:"h-4 w-4"}),(0,a.jsxs)($,{children:[(0,a.jsx)("strong",{children:"Importante:"})," Certifique-se de que a temporada/epis\xf3dio j\xe1 foi lan\xe7ado oficialmente antes de fazer o pedido. N\xe3o solicitamos conte\xfado que ainda n\xe3o foi disponibilizado pelos est\xfadios."]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(p.J,{htmlFor:"season",className:"text-left",children:"Temporada *"}),(0,a.jsx)(i.p,{id:"season",value:c,onChange:e=>h(e.target.value),placeholder:"Ex: 2",className:"col-span-1",disabled:n,required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(p.J,{htmlFor:"episode",className:"text-left",children:"Epis\xf3dio (opcional)"}),(0,a.jsx)(i.p,{id:"episode",value:g,onChange:e=>v(e.target.value),placeholder:"Ex: 5",className:"col-span-1",disabled:n})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(p.J,{htmlFor:"notes",className:"text-left",children:"Observa\xe7\xe3o Adicional (opcional)"}),(0,a.jsx)(x.T,{id:"notes",value:j,onChange:e=>b(e.target.value),className:"min-h-[80px]",placeholder:"Ex: Dublagem em portugu\xeas, qualidade HD, etc.",disabled:n})]})]}),(0,a.jsxs)(u.Es,{children:[(0,a.jsx)(m.$,{type:"button",variant:"secondary",onClick:()=>l(!1),disabled:n,children:"Cancelar"}),(0,a.jsx)(m.$,{type:"submit",disabled:n,children:n?"Enviando...":"Enviar Pedido"})]})]})})]})}let M=process.env.NEXT_PUBLIC_TMDB_API_KEY||"279e039eafd4ccc7c289a589c9b613e3";function _(){let[e,s]=(0,r.useState)(""),[t,u]=(0,r.useState)("multi"),[p,x]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[v,f]=(0,r.useState)([]),[j,C]=(0,r.useState)(new Set),[S,q]=(0,r.useState)(new Map),{m3uItems:E,allM3uItems:$,isInitialLoading:k}=(0,r.useContext)(w.z),{toast:_}=(0,d.dj)(),z=e=>e?e.toLowerCase().replace(/\s*(s\d{2}e\d{2}|s\d{1,2}|t\d{1,2}e\d{1,2}).*$/i,"").replace(/\s*\(\d{4}\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/ & /g," e ").replace(/[^\w\s]/gi,"").replace(/\s+/g," ").trim():"",U=(e,s)=>{if(e.toLowerCase()===s.toLowerCase())return!0;let t=z(e),a=z(s);if(t===a)return!0;let r=e.toLowerCase(),i=s.toLowerCase(),l=e=>{let s={i:1,ii:2,iii:3,iv:4,v:5,vi:6,vii:7,viii:8,ix:9,x:10},t=e.split(" "),a=t[t.length-1];if(s[a])return t[t.length-1]=s[a].toString(),t.join(" ");for(let e=0;e<t.length;e++)s[t[e]]&&(t[e]=s[t[e]].toString());return t.join(" ")};if(l(r)===l(i))return!0;if(/\d/.test(r)!==/\d/.test(i)&&r.replace(/\s+\d+.*$/,"")===i.replace(/\s+\d+.*$/,""))return!0;if(r.includes("rambo")&&i.includes("rambo")&&r.replace(/rambo.*/,"rambo").trim()===i.replace(/rambo.*/,"rambo").trim())return!0;if(r.includes(":")&&!i.includes(":")||!r.includes(":")&&i.includes(":"))return!1;if(r.includes(":")&&i.includes(":")){let e=r.split(":")[1]?.trim(),s=i.split(":")[1]?.trim();if(e&&s&&e!==s)return!1}if(r.includes("parte")&&!i.includes("parte")||!r.includes("parte")&&i.includes("parte")||r.includes("edi\xe7\xe3o")&&!i.includes("edi\xe7\xe3o")||!r.includes("edi\xe7\xe3o")&&i.includes("edi\xe7\xe3o")||r.includes("especial")&&!i.includes("especial")||!r.includes("especial")&&i.includes("especial")||r.includes("document\xe1rio")&&!i.includes("document\xe1rio")||!r.includes("document\xe1rio")&&i.includes("document\xe1rio")||r.includes("lenda")&&!i.includes("lenda")||!r.includes("lenda")&&i.includes("lenda")||r.includes("\xfaltimo")&&!i.includes("\xfaltimo")||!r.includes("\xfaltimo")&&i.includes("\xfaltimo")||r.includes("caminho")&&!i.includes("caminho")||!r.includes("caminho")&&i.includes("caminho")||r.includes("busca")&&!i.includes("busca")||!r.includes("busca")&&i.includes("busca")||r.includes("criando")&&!i.includes("criando")||!r.includes("criando")&&i.includes("criando")||r.includes("cavaleiro")&&!i.includes("cavaleiro")||!r.includes("cavaleiro")&&i.includes("cavaleiro")||r.includes("mestre")&&!i.includes("mestre")||!r.includes("mestre")&&i.includes("mestre")||r.includes("fogo")&&!i.includes("fogo")||!r.includes("fogo")&&i.includes("fogo")||r.includes("cinzas")&&!i.includes("cinzas")||!r.includes("cinzas")&&i.includes("cinzas")||r.includes("\xe1gua")&&!i.includes("\xe1gua")||!r.includes("\xe1gua")&&i.includes("\xe1gua")||r.includes("gl\xf3ria")&&!i.includes("gl\xf3ria")||!r.includes("gl\xf3ria")&&i.includes("gl\xf3ria")||r.includes("mund")&&!i.includes("mund")||!r.includes("mund")&&i.includes("mund")||r.includes("pandora")&&!i.includes("pandora")||!r.includes("pandora")&&i.includes("pandora")||r.includes("tulkun")&&!i.includes("tulkun")||!r.includes("tulkun")&&i.includes("tulkun")||r.includes("eywa")&&!i.includes("eywa")||!r.includes("eywa")&&i.includes("eywa")||r.includes("mergulho")&&!i.includes("mergulho")||!r.includes("mergulho")&&i.includes("mergulho")||r.includes("profundo")&&!i.includes("profundo")||!r.includes("profundo")&&i.includes("profundo")||r.includes("dragao")&&!i.includes("dragao")||!r.includes("dragao")&&i.includes("dragao")||r.includes("treinar")&&!i.includes("treinar")||!r.includes("treinar")&&i.includes("treinar")||r.includes("seu")&&!i.includes("seu")||!r.includes("seu")&&i.includes("seu"))return!1;let n=/\d/.test(r),d=/\d/.test(i);if(n!==d)return!1;if(n&&d){let e=r.match(/\d+/g)||[],s=i.match(/\d+/g)||[];if(e.length>0&&s.length>0&&e.join("")!==s.join(""))return!1}let o=t.split(" ").filter(e=>e.length>2),c=a.split(" ").filter(e=>e.length>2);if(o[0]===c[0]&&o.length>=1&&c.length>=1&&3>=Math.abs(t.length-a.length)){let e=o.filter(e=>!c.includes(e)),s=c.filter(e=>!o.includes(e));if(e.length>1||s.length>1||o.length>2&&1===c.length||c.length>2&&1===o.length)return!1;let t=o.filter(e=>c.includes(e)),a=Math.max(o.length,c.length);return!(t.length/a<.8)}return!1},T=async(e,s)=>{try{let t=`https://api.themoviedb.org/3/search/${s}?api_key=${M}&query=${encodeURIComponent(e)}&language=pt-BR`,a=await fetch(t);if(!a.ok)return console.error(`TMDB API error: ${a.status} ${a.statusText}`),[];let r=await a.json();if(r.results&&r.results.length>0)return r.results.filter(e=>("movie"===e.media_type||"tv"===e.media_type||"movie"===s||"tv"===s)&&e.poster_path).map(e=>({name:e.title||e.name,synopsis:e.overview||"Nenhuma sinopse dispon\xedvel.",logo:e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:null,category:"tv"===e.media_type||"tv"===s?"S\xe9rie":"Filme",type:"tv"===e.media_type||"tv"===s?"series":"movie",url:""}));return[]}catch(e){return console.error("Error fetching from TMDB:",e),[]}};return(0,r.useCallback)(async(e,s)=>{if(k||e.trim().length<3){f([]),g(!1);return}x(!0),g(!0);try{let t=await T(e,s);if(0===t.length){f([]),x(!1);return}let a=t.map(e=>{let s=j.has(e.name),t=S.has(e.name);if(s)return{...e,status:"requested"};let a=[];for(let s of $)U(e.name,s.name)&&a.push(s);if(a.length>0){let s=a[0].category;return{...e,status:"existing",existingCategory:s}}return t?{...e,status:"added",addedCategory:S.get(e.name)?.category,addedObservation:S.get(e.name)?.observation}:{...e,status:"requestable"}});f(a)}catch(e){_({title:"Erro na Busca",description:"Ocorreu um erro ao buscar. Tente novamente mais tarde.",variant:"destructive"}),f([])}finally{x(!1)}},[_,j,$,k,S]),(0,a.jsxs)("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[(0,a.jsx)("div",{className:"flex-grow container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl lg:text-3xl font-bold tracking-tight text-primary",children:"Solicitar um Filme ou S\xe9rie"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"N\xe3o encontrou o que procurava? Verifique aqui e fa\xe7a seu pedido."})]}),(0,a.jsxs)("div",{className:"flex flex-col w-full max-w-2xl mx-auto items-center space-y-4",children:[(0,a.jsx)(y.tU,{value:t,onValueChange:u,children:(0,a.jsxs)(y.j7,{children:[(0,a.jsx)(y.Xi,{value:"multi",children:"Todos"}),(0,a.jsx)(y.Xi,{value:"movie",children:"Filmes"}),(0,a.jsx)(y.Xi,{value:"tv",children:"S\xe9ries"})]})}),(0,a.jsxs)("div",{className:"relative w-full flex-grow",children:[(0,a.jsx)(l.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,a.jsx)(i.p,{type:"text",placeholder:`Digite o nome d${"tv"===t?"a s\xe9rie":"o filme"}...`,value:e,onChange:e=>s(e.target.value),className:"pl-10 text-lg py-6 rounded-full shadow-inner bg-card",disabled:k}),p&&(0,a.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"})})]}),(0,a.jsx)(b,{})]}),(0,a.jsxs)("div",{className:"pt-8",children:[p&&(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:Array.from({length:6}).map((e,s)=>(0,a.jsx)(c.A,{},`skeleton-search-${s}`))}),h&&!p&&(0,a.jsx)(a.Fragment,{children:v.length>0?(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:v.map((e,s)=>"loading"===e.status?(0,a.jsx)(c.A,{},`skeleton-${s}`):(0,a.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,a.jsx)(n.A,{item:e,showCategory:"existing"!==e.status}),"requestable"===e.status?(0,a.jsx)(P,{item:e,children:(0,a.jsx)(m.$,{className:"w-full",children:"Solicitar"})}):"requested"===e.status?(0,a.jsxs)(m.$,{variant:"outline",disabled:!0,className:"w-full cursor-default",children:[(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Solicitado"]}):"added"===e.status?(0,a.jsx)("div",{className:"flex flex-col gap-2 w-full",children:(0,a.jsxs)("div",{className:"text-center text-xs p-2 rounded-md bg-secondary text-secondary-foreground cursor-default",children:[(0,a.jsx)("p",{className:"font-bold",children:"J\xe1 est\xe1 no sistema"}),e.addedCategory&&(0,a.jsxs)("p",{className:"truncate",children:["em: ",(0,a.jsx)("span",{className:"text-green-500 font-semibold",children:e.addedCategory})]}),e.addedObservation&&(0,a.jsxs)("div",{className:"mt-1 p-1 bg-primary/10 rounded text-primary text-xs",children:[(0,a.jsx)("p",{className:"font-semibold",children:"Observa\xe7\xe3o:"}),(0,a.jsx)("p",{className:"break-words",children:e.addedObservation})]})]})}):(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,a.jsxs)("div",{className:"text-center text-xs p-2 rounded-md bg-secondary text-secondary-foreground cursor-default",children:[(0,a.jsx)("p",{className:"font-bold",children:"J\xe1 est\xe1 no sistema"}),e.existingCategory&&(0,a.jsxs)("p",{className:"truncate",children:["em: ",(0,a.jsx)("span",{className:"text-green-500 font-semibold",children:e.existingCategory})]})]}),"series"===e.type&&(0,a.jsx)(A,{item:e,children:(0,a.jsx)(m.$,{variant:"outline",size:"sm",className:"w-full text-xs",children:"Pedir Atualiza\xe7\xe3o"})})]})]},`result-${s}`))}):e.length>2&&(0,a.jsx)(o.Zp,{className:"text-center py-10 px-6 border-dashed bg-card",children:(0,a.jsxs)(o.Wu,{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-card-foreground mb-2",children:"Nenhum resultado encontrado"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:['N\xe3o encontramos nenhum conte\xfado para "',e,'". Verifique o t\xedtulo ou fa\xe7a um pedido manual.']})]})})})]})]})}),(0,a.jsx)("footer",{className:"text-center p-4 text-muted-foreground text-sm",children:(0,a.jsxs)("p",{children:["Pedidos Cine \xa9 ",new Date().getFullYear()]})})]})}function z(){return(0,a.jsx)(_,{})}},90660:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(60687),r=t(4780);function i({className:e,...s}){return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...s})}var l=t(44493);function n(){return(0,a.jsxs)(l.Zp,{className:"flex flex-col h-full overflow-hidden",children:[(0,a.jsx)(l.aR,{className:"p-0",children:(0,a.jsx)(i,{className:"aspect-[2/3] w-full"})}),(0,a.jsxs)(l.Wu,{className:"flex-grow p-4 space-y-2",children:[(0,a.jsx)(i,{className:"h-5 w-4/5"}),(0,a.jsxs)("div",{className:"space-y-1 pt-2",children:[(0,a.jsx)(i,{className:"h-3 w-full"}),(0,a.jsx)(i,{className:"h-3 w-full"}),(0,a.jsx)(i,{className:"h-3 w-2/3"})]})]}),(0,a.jsx)(l.wL,{className:"p-4 pt-0",children:(0,a.jsx)(i,{className:"h-5 w-1/2"})})]})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[447,771,780,355,742,516,927,670,634],()=>t(1759));module.exports=a})();