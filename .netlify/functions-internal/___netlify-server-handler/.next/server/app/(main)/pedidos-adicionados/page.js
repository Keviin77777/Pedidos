(()=>{var e={};e.id=981,e.ids=[981],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7149:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Usu\xe1rio\\\\Documents\\\\Servidor\\\\script\\\\Pedidos\\\\Pedidos\\\\src\\\\app\\\\(main)\\\\pedidos-adicionados\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\pedidos-adicionados\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28090:(e,s,t)=>{Promise.resolve().then(t.bind(t,66051))},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},55511:e=>{"use strict";e.exports=require("crypto")},55979:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var r=t(65239),a=t(48088),o=t(88170),i=t.n(o),d=t(30893),n={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let l={children:["",{children:["(main)",{children:["pedidos-adicionados",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7149)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\pedidos-adicionados\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,60448)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e),async e=>(await Promise.resolve().then(t.bind(t,59645))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,21661)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e),async e=>(await Promise.resolve().then(t.bind(t,59645))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\pedidos-adicionados\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(main)/pedidos-adicionados/page",pathname:"/pedidos-adicionados",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66051:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(60687),a=t(43210);t(81074);var o=t(83809),i=t(90660),d=t(44493),n=t(24555),l=t(29867);function c(){let[e,s]=(0,a.useState)([]),[t,c]=(0,a.useState)(!0),{toast:u}=(0,l.dj)();return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[(0,r.jsx)("div",{className:"flex-grow container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(n.A,{className:"w-8 h-8 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl lg:text-3xl font-bold tracking-tight",children:"Pedidos Adicionados Recentemente"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Confira aqui os \xfaltimos filmes e s\xe9ries que foram adicionados ao cat\xe1logo."})]})]}),(0,r.jsx)("div",{className:"pt-8",children:t?(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:Array.from({length:12}).map((e,s)=>(0,r.jsx)(i.A,{},`skeleton-${s}`))}):e.length>0?(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,r.jsx)(o.A,{item:{name:e.title,logo:e.logo||null,category:e.type,url:"",synopsis:`Pedido em: ${new Date(e.requestedAt).toLocaleDateString()}`}}),(0,r.jsxs)("div",{className:"text-center text-xs p-2 rounded-md bg-secondary text-secondary-foreground w-full cursor-default",children:[(0,r.jsx)("p",{className:"font-bold",children:"Adicionado!"}),e.addedToCategory&&(0,r.jsxs)("p",{className:"truncate",children:["Em: ",e.addedToCategory]}),e.addedObservation&&(0,r.jsxs)("div",{className:"mt-1 p-1 bg-primary/10 rounded text-primary text-xs",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Observa\xe7\xe3o:"}),(0,r.jsx)("p",{className:"break-words",children:e.addedObservation})]})]})]},e.id))}):(0,r.jsx)(d.Zp,{className:"text-center py-10 px-6 border-dashed bg-card",children:(0,r.jsxs)(d.Wu,{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-card-foreground mb-2",children:"Nenhuma novidade por aqui... ainda!"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Assim que seus pedidos forem atendidos, eles aparecer\xe3o nesta se\xe7\xe3o."})]})})})]})}),(0,r.jsx)("footer",{className:"text-center p-4 text-muted-foreground text-sm",children:(0,r.jsxs)("p",{children:["Pedidos Cine \xa9 ",new Date().getFullYear()]})})]})}},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81074:(e,s,t)=>{"use strict";t.d(s,{A9:()=>p,BK:()=>l,H$:()=>c,HJ:()=>h,Mm:()=>u,R$:()=>g,X9:()=>w,hs:()=>m,mK:()=>x,r_:()=>f,u$:()=>v});var r=t(33784),a=t(75535),o=t(7605);let i=(0,a.rJ)(r.db,"content-requests"),d=(0,a.rJ)(r.db,"problem-reports"),n=(e,s,t,r)=>{let o=(0,a.P)(e,(0,a.My)(s,"desc"));return(0,a.aQ)(o,e=>{let r=[];e.forEach(e=>{let t=e.data(),a=e.id,o=t[s].toDate().toISOString(),i={...t,id:a,[s]:o};"updatedAt"in t&&t.updatedAt&&(i.updatedAt=t.updatedAt.toDate().toISOString()),r.push(i)}),t(r)},e=>{r(e)})},l=(e,s)=>n(i,"requestedAt",e,s),c=(e,s)=>n(d,"reportedAt",e,s),u=async e=>{let s={...e,requestedAt:a.Dc.now(),status:"Pendente"},t=await (0,a.gS)(i,s);e.username&&(await (0,o.ap)({userId:e.username,requestId:t.id,requestTitle:e.title,status:"Pendente",requestedAt:new Date().toISOString()}),await (0,o.Bj)(e.username,e.title,"Pendente"))},p=async(e,s)=>{let t=(0,a.H9)(r.db,"content-requests",e);await (0,a.mZ)(t,{status:s,addedToCategory:""})},m=async(e,s,t)=>{let d=(0,a.H9)(r.db,"content-requests",e),n={status:"Adicionado",addedToCategory:s,updatedAt:a.Dc.now()};t&&t.trim()&&(n.addedObservation=t.trim());try{let r=await (0,a.GG)((0,a.P)(i,(0,a._M)("__name__","==",e))),l=r.docs[0]?.data();await (0,a.mZ)(d,n),l?.username&&(await (0,o.wK)(e,"Adicionado",{addedToCategory:s,addedObservation:t?.trim()}),await (0,o.Rw)(l.username,l.title,s))}catch(e){throw console.error("Error marking as added:",e),e}},x=async e=>{try{let s=await (0,a.GG)((0,a.P)(i,(0,a._M)("__name__","==",e))),t=s.docs[0]?.data(),d=(0,a.H9)(r.db,"content-requests",e);if(await (0,a.kd)(d),t?.username){for(let s of(await (0,a.GG)((0,a.P)((0,a.rJ)(r.db,"user-requests"),(0,a._M)("requestId","==",e)))).docs)await (0,a.kd)(s.ref);await (0,o.cI)(t.username,t.title)}}catch(e){throw console.error("Error deleting request:",e),e}},h=async e=>{let s={...e,reportedAt:a.Dc.now(),status:"Aberto"};await (0,a.gS)(d,s)},f=async(e,s)=>{let t=(0,a.H9)(r.db,"problem-reports",e);await (0,a.mZ)(t,{status:s})},g=async e=>{let s=(0,a.H9)(r.db,"problem-reports",e);await (0,a.kd)(s)},v=async(e,s)=>{let t=(0,a.H9)(r.db,"content-requests",e);try{let r=await (0,a.GG)((0,a.P)(i,(0,a._M)("__name__","==",e))),d=r.docs[0]?.data();await (0,a.mZ)(t,{status:"Comunicado",communicatedMessage:s,communicatedAt:(0,a.O5)()}),d?.username&&(await (0,o.wK)(e,"Comunicado",{communicatedMessage:s}),await (0,o.dj)(d.username,d.title,s))}catch(e){throw console.error("Error marking as communicated:",e),e}},w=async(e,s)=>{let t=(0,a.H9)(r.db,"content-requests",e);await (0,a.mZ)(t,{addedObservation:s,updatedAt:(0,a.O5)()})}},81234:(e,s,t)=>{Promise.resolve().then(t.bind(t,7149))},81630:e=>{"use strict";e.exports=require("http")},83809:(e,s,t)=>{"use strict";t.d(s,{A:()=>p});var r=t(60687),a=t(30474),o=t(44493),i=t(96834),d=t(43210),n=t(68123),l=t(4780);let c=d.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsxs)(n.bL,{ref:a,className:(0,l.cn)("relative overflow-hidden",e),...t,children:[(0,r.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(u,{}),(0,r.jsx)(n.OK,{})]}));c.displayName=n.bL.displayName;let u=d.forwardRef(({className:e,orientation:s="vertical",...t},a)=>(0,r.jsx)(n.VM,{ref:a,orientation:s,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:(0,r.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})}));function p({item:e,showCategory:s=!0}){return(0,r.jsxs)(o.Zp,{className:"flex flex-col h-full overflow-hidden transition-all duration-300",children:[(0,r.jsx)(o.aR,{className:"p-0",children:(0,r.jsx)("div",{className:"aspect-[2/3] relative",children:(0,r.jsx)(a.default,{src:e.logo||"https://placehold.co/400x600.png",alt:`Cover for ${e.name}`,fill:!0,sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 20vw",className:"object-cover","data-ai-hint":"movie poster"})})}),(0,r.jsxs)(o.Wu,{className:"flex-grow p-4 space-y-2",children:[(0,r.jsx)(o.ZB,{className:"text-lg font-bold leading-tight line-clamp-2",children:e.name}),(0,r.jsx)(c,{className:"h-24",children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.synopsis||"No synopsis available."})})]}),s&&e.category&&(0,r.jsx)(o.wL,{className:"p-4 pt-0",children:(0,r.jsx)(i.E,{variant:"secondary",className:"truncate",children:e.category})})]})}u.displayName=n.VM.displayName},90660:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var r=t(60687),a=t(4780);function o({className:e,...s}){return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...s})}var i=t(44493);function d(){return(0,r.jsxs)(i.Zp,{className:"flex flex-col h-full overflow-hidden",children:[(0,r.jsx)(i.aR,{className:"p-0",children:(0,r.jsx)(o,{className:"aspect-[2/3] w-full"})}),(0,r.jsxs)(i.Wu,{className:"flex-grow p-4 space-y-2",children:[(0,r.jsx)(o,{className:"h-5 w-4/5"}),(0,r.jsxs)("div",{className:"space-y-1 pt-2",children:[(0,r.jsx)(o,{className:"h-3 w-full"}),(0,r.jsx)(o,{className:"h-3 w-full"}),(0,r.jsx)(o,{className:"h-3 w-2/3"})]})]}),(0,r.jsx)(i.wL,{className:"p-4 pt-0",children:(0,r.jsx)(o,{className:"h-5 w-1/2"})})]})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,771,319,833,516,832,670],()=>t(55979));module.exports=r})();