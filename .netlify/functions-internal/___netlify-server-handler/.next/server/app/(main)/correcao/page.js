(()=>{var e={};e.id=266,e.ids=[266],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4098:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>y});var t=s(60687),a=s(43210),i=s(89667),o=s(41936),l=s(83809),n=s(44493),d=s(90660),c=s(63503),u=s(29523),p=s(80013),m=s(34729),x=s(29867),h=s(29333),v=s(81074);function f({item:e}){let{toast:r}=(0,x.dj)(),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),[n,d]=(0,a.useState)(!1),f=async t=>{if(t.preventDefault(),s.trim().length<10)return void r({title:"Descri\xe7\xe3o Inv\xe1lida",description:"Por favor, descreva o problema com pelo menos 10 caracteres.",variant:"destructive"});d(!0);try{await (0,v.HJ)({title:e.name,problem:s,logo:e.logo}),r({title:"Relat\xf3rio de Corre\xe7\xe3o Enviado!",description:`Recebemos seu relat\xf3rio para "${e.name}". Obrigado por ajudar!`}),l(!1),i("")}catch(e){r({title:"Erro ao Enviar Relat\xf3rio",description:"N\xe3o foi poss\xedvel enviar seu relat\xf3rio. Tente novamente.",variant:"destructive"})}finally{d(!1)}};return(0,t.jsxs)(c.lG,{open:o,onOpenChange:l,children:[(0,t.jsx)(c.zM,{asChild:!0,children:(0,t.jsxs)(u.$,{variant:"outline",className:"w-full",children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Corrigir"]})}),(0,t.jsx)(c.Cf,{className:"sm:max-w-[425px]",children:(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsxs)(c.c7,{children:[(0,t.jsx)(c.L3,{children:"Relatar Problema"}),(0,t.jsxs)(c.rr,{children:['Descreva o problema que voc\xea encontrou com "',e.name,'".']})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 items-start gap-2",children:[(0,t.jsx)(p.J,{htmlFor:"issue",className:"text-left",children:"Qual o problema?"}),(0,t.jsx)(m.T,{id:"issue",value:s,onChange:e=>i(e.target.value),className:"col-span-3 min-h-[120px]",placeholder:"Ex: \xc1udio dessincronizado, imagem de baixa qualidade, epis\xf3dio errado, etc.",disabled:n})]})}),(0,t.jsxs)(c.Es,{children:[(0,t.jsx)(c.HM,{asChild:!0,children:(0,t.jsx)(u.$,{type:"button",variant:"secondary",disabled:n,children:"Cancelar"})}),(0,t.jsx)(u.$,{type:"submit",disabled:n,children:n?"Enviando...":"Enviar Relat\xf3rio"})]})]})})]})}var g=s(19210),j=s(29844);let b=process.env.NEXT_PUBLIC_TMDB_API_KEY||"279e039eafd4ccc7c289a589c9b613e3";function y(){let[e,r]=(0,a.useState)(""),[s,c]=(0,a.useState)("all"),[u,p]=(0,a.useState)(!1),[m,x]=(0,a.useState)([]),{m3uItems:h,allM3uItems:v,isInitialLoading:y}=(0,a.useContext)(g.z),N=e=>e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/gi,"").trim():"",w=async e=>{try{let r=e.name.replace(/\s*\[.*?\]\s*/g,"").replace(/\s*\(\d{4}\)\s*$/,"").trim(),t="movie"===s?["movie"]:"series"===s?["tv"]:["movie","tv"],a=t.map(e=>fetch(`https://api.themoviedb.org/3/search/${e}?api_key=${b}&query=${encodeURIComponent(r)}&language=pt-BR`).then(e=>e.ok?e.json():Promise.resolve({results:[]}))),i=(await Promise.all(a)).flatMap((e,r)=>(e.results||[]).map(e=>({...e,searchType:t[r]}))),o=N(r),l=i.sort((r,s)=>{let t=N(r.title||r.name||""),a=N(s.title||s.name||""),i=t===o?3:t.startsWith(o)?2:+!!t.includes(o),l=a===o?3:a.startsWith(o)?2:+!!a.includes(o);return l!==i?l-i:"series"===e.type&&"tv"===s.searchType?1:"series"===e.type&&"tv"===r.searchType?-1:"movie"===e.type&&"movie"===s.searchType?1:"movie"===e.type&&"movie"===r.searchType?-1:(s.popularity||0)-(r.popularity||0)})[0];if(l)return{...e,synopsis:l.overview||"Nenhuma sinopse dispon\xedvel.",logo:l.poster_path?`https://image.tmdb.org/t/p/w500${l.poster_path}`:e.logo,category:"tv"===l.searchType?"S\xe9rie":"Filme"};return e}catch(r){return console.error("Error fetching from TMDB for details:",r),e}};return(0,a.useCallback)(async(e,r)=>{if(y||e.trim().length<3)return void x([]);p(!0);let s=N(e),t=v.filter(e=>"all"===r||e.type===r).filter(e=>N(e.name).includes(s)).map(e=>({...e,status:"loading"}));x(t),p(!1),t.forEach(async e=>{try{let r=await w(e);x(s=>{let t=[...s],a=t.findIndex(r=>r.name===e.name&&"loading"===r.status);return -1!==a&&(t[a]={...r,status:"loaded"}),t.sort((e,r)=>e.name.localeCompare(r.name))})}catch(r){x(r=>{let s=[...r],t=s.findIndex(r=>r.name===e.name&&"loading"===r.status);return -1!==t&&(s[t]={...e,status:"loaded"}),s.sort((e,r)=>e.name.localeCompare(r.name))})}})},[v,y]),(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[(0,t.jsx)("div",{className:"flex-grow container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl lg:text-3xl font-bold tracking-tight text-primary",children:"Corrigir um Conte\xfado"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Encontrou um problema? Busque o conte\xfado e nos informe."})]}),(0,t.jsxs)("div",{className:"flex flex-col w-full max-w-2xl mx-auto items-center space-y-4",children:[(0,t.jsx)(j.tU,{value:s,onValueChange:c,children:(0,t.jsxs)(j.j7,{children:[(0,t.jsx)(j.Xi,{value:"all",children:"Todos"}),(0,t.jsx)(j.Xi,{value:"movie",children:"Filmes"}),(0,t.jsx)(j.Xi,{value:"series",children:"S\xe9ries"})]})}),(0,t.jsxs)("div",{className:"relative w-full flex-grow",children:[(0,t.jsx)(o.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,t.jsx)(i.p,{type:"text",placeholder:`Digite o nome d${"series"===s?"a s\xe9rie":"o filme"} para corrigir...`,value:e,onChange:e=>r(e.target.value),className:"pl-10 text-lg py-6 rounded-full shadow-inner bg-card",disabled:y}),(u||y)&&(0,t.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"})})]})]}),(0,t.jsx)("div",{className:"pt-8",children:e.length>2&&m.length>0?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:m.map((e,r)=>"loading"===e.status?(0,t.jsx)(d.A,{},`skeleton-${r}`):(0,t.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,t.jsx)(l.A,{item:e}),(0,t.jsx)(f,{item:e})]},`result-${r}`))}):e.length>2&&!u&&(0,t.jsx)(n.Zp,{className:"text-center py-10 px-6 border-dashed bg-card",children:(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-card-foreground mb-2",children:"Nenhum resultado encontrado na sua lista"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:['N\xe3o encontramos nenhum conte\xfado para "',e,'" na sua lista M3U. Verifique o t\xedtulo ou se o item realmente existe.']})]})})})]})}),(0,t.jsx)("footer",{className:"text-center p-4 text-muted-foreground text-sm",children:(0,t.jsxs)("p",{children:["Pedidos Cine \xa9 ",new Date().getFullYear()]})})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19637:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=s(65239),a=s(48088),i=s(88170),o=s.n(i),l=s(30893),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);s.d(r,n);let d={children:["",{children:["(main)",{children:["correcao",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,32260)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\correcao\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,60448)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e),async e=>(await Promise.resolve().then(s.bind(s,59645))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,21661)),"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e),async e=>(await Promise.resolve().then(s.bind(s,59645))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\correcao\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(main)/correcao/page",pathname:"/correcao",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32260:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Usu\xe1rio\\\\Documents\\\\Servidor\\\\script\\\\Pedidos\\\\Pedidos\\\\src\\\\app\\\\(main)\\\\correcao\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\correcao\\page.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},47087:(e,r,s)=>{Promise.resolve().then(s.bind(s,32260))},55335:(e,r,s)=>{Promise.resolve().then(s.bind(s,4098))},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83809:(e,r,s)=>{"use strict";s.d(r,{A:()=>p});var t=s(60687),a=s(30474),i=s(44493),o=s(96834),l=s(43210),n=s(68123),d=s(4780);let c=l.forwardRef(({className:e,children:r,...s},a)=>(0,t.jsxs)(n.bL,{ref:a,className:(0,d.cn)("relative overflow-hidden",e),...s,children:[(0,t.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(u,{}),(0,t.jsx)(n.OK,{})]}));c.displayName=n.bL.displayName;let u=l.forwardRef(({className:e,orientation:r="vertical",...s},a)=>(0,t.jsx)(n.VM,{ref:a,orientation:r,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:(0,t.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})}));function p({item:e,showCategory:r=!0}){return(0,t.jsxs)(i.Zp,{className:"flex flex-col h-full overflow-hidden transition-all duration-300",children:[(0,t.jsx)(i.aR,{className:"p-0",children:(0,t.jsx)("div",{className:"aspect-[2/3] relative",children:(0,t.jsx)(a.default,{src:e.logo||"https://placehold.co/400x600.png",alt:`Cover for ${e.name}`,fill:!0,sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 20vw",className:"object-cover","data-ai-hint":"movie poster"})})}),(0,t.jsxs)(i.Wu,{className:"flex-grow p-4 space-y-2",children:[(0,t.jsx)(i.ZB,{className:"text-lg font-bold leading-tight line-clamp-2",children:e.name}),(0,t.jsx)(c,{className:"h-24",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.synopsis||"No synopsis available."})})]}),r&&e.category&&(0,t.jsx)(i.wL,{className:"p-4 pt-0",children:(0,t.jsx)(o.E,{variant:"secondary",className:"truncate",children:e.category})})]})}u.displayName=n.VM.displayName},90660:(e,r,s)=>{"use strict";s.d(r,{A:()=>l});var t=s(60687),a=s(4780);function i({className:e,...r}){return(0,t.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...r})}var o=s(44493);function l(){return(0,t.jsxs)(o.Zp,{className:"flex flex-col h-full overflow-hidden",children:[(0,t.jsx)(o.aR,{className:"p-0",children:(0,t.jsx)(i,{className:"aspect-[2/3] w-full"})}),(0,t.jsxs)(o.Wu,{className:"flex-grow p-4 space-y-2",children:[(0,t.jsx)(i,{className:"h-5 w-4/5"}),(0,t.jsxs)("div",{className:"space-y-1 pt-2",children:[(0,t.jsx)(i,{className:"h-3 w-full"}),(0,t.jsx)(i,{className:"h-3 w-full"}),(0,t.jsx)(i,{className:"h-3 w-2/3"})]})]}),(0,t.jsx)(o.wL,{className:"p-4 pt-0",children:(0,t.jsx)(i,{className:"h-5 w-1/2"})})]})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[447,771,780,355,742,516,927,670,634],()=>s(19637));module.exports=t})();