(()=>{var e={};e.id=382,e.ids=[382],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44814:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>f,routeModule:()=>c,serverHooks:()=>m,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{GET:()=>p,POST:()=>u});var o=r(96559),a=r(48088),n=r(37719),i=r(32190);async function u(e){return d(e)}async function p(e){return d(e)}async function d(e){try{let{username:t,password:r}=await e.json();if(!t||!r)return i.NextResponse.json({error:"Username and password are required"},{status:400});let s=await fetch(`http://dnscine.top:80/player_api.php?username=${encodeURIComponent(t)}&password=${encodeURIComponent(r)}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}});if(!s.ok)return console.error(`Xtream API error: ${s.status} ${s.statusText}`),i.NextResponse.json({error:`Erro do servidor IPTV: ${s.status}`},{status:s.status});let o=await s.json();if(!o.user_info)return i.NextResponse.json({error:"Resposta inv\xe1lida do servidor IPTV"},{status:500});let a=o.user_info;if(1!==a.auth)return i.NextResponse.json({error:"Credenciais inv\xe1lidas"},{status:401});if(a.exp_date&&"0"!==a.exp_date&&null!==a.exp_date){let e=new Date(1e3*parseInt(a.exp_date)),t=new Date;if(e<t)return i.NextResponse.json({error:"Conta expirada"},{status:401})}if("Active"!==a.status)return i.NextResponse.json({error:"Conta inativa"},{status:401});return i.NextResponse.json({username:a.username,password:a.password,auth:a.auth,status:a.status,exp_date:a.exp_date,is_trial:a.is_trial,active_cons:a.active_cons,created_at:a.created_at,max_connections:a.max_connections,allowed_output_formats:a.allowed_output_formats,server_info:o.server_info})}catch(e){if(console.error("Erro na autentica\xe7\xe3o Xtream:",e),e instanceof TypeError&&e.message.includes("fetch"))return i.NextResponse.json({error:"N\xe3o foi poss\xedvel conectar ao servidor IPTV. Verifique sua conex\xe3o ou tente novamente mais tarde."},{status:503});return i.NextResponse.json({error:"Erro interno do servidor"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/xtream-auth/route",pathname:"/api/xtream-auth",filename:"route",bundlePath:"app/api/xtream-auth/route"},resolvedPagePath:"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\api\\xtream-auth\\route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:x,workUnitAsyncStorage:l,serverHooks:m}=c;function f(){return(0,n.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:l})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,580],()=>r(44814));module.exports=s})();