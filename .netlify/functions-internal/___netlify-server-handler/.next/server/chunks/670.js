exports.id=670,exports.ids=[670],exports.modules={17357:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(60687),r=s(43210),i=s(19210),o=s(25177),n=s(4780);let l=r.forwardRef(({className:e,value:t,...s},r)=>(0,a.jsx)(o.bL,{ref:r,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:(0,a.jsx)(o.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));function c(){let{isInitialLoading:e}=(0,r.useContext)(i.z),[t,s]=(0,r.useState)(0),[o,n]=(0,r.useState)(e);return o?(0,a.jsx)("div",{className:`fixed inset-0 z-[200] flex flex-col items-center justify-center bg-background transition-opacity duration-500 ${e?"opacity-100":"opacity-0"}`,children:(0,a.jsxs)("div",{className:"w-full max-w-md p-8 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Aguarde para conex\xe3o com o servidor"}),(0,a.jsx)(l,{value:t,className:"w-full"})]})}):null}l.displayName=o.bL.displayName},19210:(e,t,s)=>{"use strict";s.d(t,{z:()=>l,L:()=>u});var a=s(60687),r=s(43210),i=s(70709),o=s(6475);let n=(0,o.createServerReference)("00aef7fe477b36c101029c0e540702e6f4225a9e00",o.callServer,void 0,o.findSourceMapURL,"getAllM3UItems"),l=(0,r.createContext)({m3uItems:[],allM3uItems:[],isInitialLoading:!0}),c=null,d=null,m=!1,u=({children:e})=>{let[t,s]=(0,r.useState)(c||[]),[o,u]=(0,r.useState)(d||[]),[x,h]=(0,r.useState)(!m);return(0,r.useEffect)(()=>{(async()=>{if(!m)try{let[e,t]=await Promise.all([(0,i.Q)(),n()]);c=e,d=t,s(e),u(t)}catch(e){console.error("Failed to load M3U items for context:",e),c=[],d=[],s([]),u([])}finally{h(!1),m=!0}})()},[]),(0,a.jsx)(l.Provider,{value:{m3uItems:t,allM3uItems:o,isInitialLoading:x},children:e})}},34956:(e,t,s)=>{Promise.resolve().then(s.bind(s,82203))},35950:(e,t,s)=>{"use strict";s.d(t,{w:()=>n});var a=s(60687),r=s(43210),i=s(62369),o=s(4780);let n=r.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},n)=>(0,a.jsx)(i.b,{ref:n,decorative:s,orientation:t,className:(0,o.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));n.displayName=i.b.displayName},41324:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"007e87f2e2dbbb8d99d374e9797296581838690a1e":()=>m,"00aef7fe477b36c101029c0e540702e6f4225a9e00":()=>u});var a=s(91199);s(42087);var r=s(33331);let i=process.env.NEXT_PUBLIC_TMDB_API_KEY,o="https://image.tmdb.org/t/p/w500";async function n(e,t){if(!i)return null;try{let s=e.replace(/\s*\([^)]*\)/g,"").trim();for(let e of[s,s.replace(/^\d+\s*/,""),s.replace(/\s*\([^)]*\)/g,"").trim(),s.split(" ").slice(0,3).join(" ")]){if(!e.trim())continue;let s=await fetch(`https://api.themoviedb.org/3/search/${t}?api_key=${i}&query=${encodeURIComponent(e)}&language=pt-BR`,{cache:"no-store"});if(!s.ok)continue;let a=await s.json();if(a.results&&a.results.length>0){let e=a.results[0];return{poster_path:e.poster_path,overview:e.overview}}}return null}catch(e){return null}}let l=process.env.XUI_API_URL||"https://dnscine.top",c=process.env.XUI_USERNAME||"Vodsm3u789DS",d=process.env.XUI_PASSWORD||"w5NwV8dPXE";async function m(){if(!l||!c||!d)return[];try{let e=`${l}/player_api.php?username=${c}&password=${d}`,t={vod:`${e}&action=get_vod_streams`,series:`${e}&action=get_series`,vodCategories:`${e}&action=get_vod_categories`,seriesCategories:`${e}&action=get_series_categories`},[s,a,r,i]=await Promise.all([fetch(t.vod,{cache:"no-store"}),fetch(t.series,{cache:"no-store"}),fetch(t.vodCategories,{cache:"no-store"}),fetch(t.seriesCategories,{cache:"no-store"})]),m=async(e,t)=>{if(!e.ok)return[];try{let t=await e.json();if(!Array.isArray(t))return[];return t}catch(e){return[]}},u=await m(s,"VOD streams"),x=await m(a,"Series"),h=await m(r,"VOD categories"),f=await m(i,"Series categories"),p=u.slice(-30),g=x.slice(-30),j=new Map;h.forEach(e=>j.set(e.category_id,e.category_name));let v=new Map;f.forEach(e=>v.set(e.category_id,e.category_name));let y=await Promise.all(p.map(async e=>{let t=e.category_id?j.get(e.category_id):"Filme",s=await n(e.name,"movie");return{name:e.name,logo:s?.poster_path?`${o}${s.poster_path}`:e.stream_icon||null,category:t||"Filme",url:"",synopsis:s?.overview||"",type:"movie",vod_id:e.stream_id||e.vod_id||e.num||e.id}})),N=await Promise.all(g.map(async e=>{let t=e.category_id?v.get(e.category_id):"S\xe9rie",s=e.cover||e.stream_icon||null,a="";if(!e.cover){let t=await n(e.name,"tv");s=t?.poster_path?`${o}${t.poster_path}`:e.stream_icon||null,a=t?.overview||""}return{name:e.name,logo:s,category:t||"S\xe9rie",url:"",synopsis:a,type:"series",series_id:e.stream_id||e.series_id||e.num||e.id}}));return[...y,...N]}catch(e){return[]}}async function u(){if(!l||!c||!d)return[];try{let e=`${l}/player_api.php?username=${c}&password=${d}`,t={vod:`${e}&action=get_vod_streams`,series:`${e}&action=get_series`,vodCategories:`${e}&action=get_vod_categories`,seriesCategories:`${e}&action=get_series_categories`},[s,a,r,i]=await Promise.all([fetch(t.vod,{cache:"no-store"}),fetch(t.series,{cache:"no-store"}),fetch(t.vodCategories,{cache:"no-store"}),fetch(t.seriesCategories,{cache:"no-store"})]),m=async(e,t)=>{if(!e.ok)return[];try{let t=await e.json();if(!Array.isArray(t))return[];return t}catch(e){return[]}},u=await m(s,"VOD streams"),x=await m(a,"Series"),h=await m(r,"VOD categories"),f=await m(i,"Series categories"),p=new Map;h.forEach(e=>p.set(e.category_id,e.category_name));let g=new Map;f.forEach(e=>g.set(e.category_id,e.category_name));let j=await Promise.all(u.map(async e=>{let t=e.category_id?p.get(e.category_id):"Filme",s=await n(e.name,"movie");return{name:e.name,logo:s?.poster_path?`${o}${s.poster_path}`:e.stream_icon||null,category:t||"Filme",url:"",synopsis:s?.overview||"",type:"movie",vod_id:e.stream_id||e.vod_id||e.num||e.id}})),v=await Promise.all(x.map(async e=>{let t=e.category_id?g.get(e.category_id):"S\xe9rie",s=e.cover||e.stream_icon||null,a="";if(!e.cover){let t=await n(e.name,"tv");s=t?.poster_path?`${o}${t.poster_path}`:e.stream_icon||null,a=t?.overview||""}return{name:e.name,logo:s,category:t||"S\xe9rie",url:"",synopsis:a,type:"series",series_id:e.stream_id||e.series_id||e.num||e.id}}));return[...j,...v]}catch(e){return[]}}(0,r.D)([m,u]),(0,a.A)(m,"007e87f2e2dbbb8d99d374e9797296581838690a1e",null),(0,a.A)(u,"00aef7fe477b36c101029c0e540702e6f4225a9e00",null)},48108:(e,t,s)=>{Promise.resolve().then(s.bind(s,60448))},60448:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Usu\xe1rio\\\\Documents\\\\Servidor\\\\script\\\\Pedidos\\\\Pedidos\\\\src\\\\app\\\\(main)\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Usu\xe1rio\\Documents\\Servidor\\script\\Pedidos\\Pedidos\\src\\app\\(main)\\layout.tsx","default")},70709:(e,t,s)=>{"use strict";s.d(t,{Q:()=>r});var a=s(6475);let r=(0,a.createServerReference)("007e87f2e2dbbb8d99d374e9797296581838690a1e",a.callServer,void 0,a.findSourceMapURL,"getM3UItems")},77042:(e,t,s)=>{"use strict";s.d(t,{H:()=>n,n:()=>l});var a=s(60687),r=s(43210);class i{static async login(e,t){try{let s=await fetch("/api/xtream-auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await s.json();if(!s.ok)throw Error(a.error||`Erro HTTP: ${s.status}`);return a}catch(e){if(console.error("❌ Erro no login Xtream:",e),e instanceof TypeError&&e.message.includes("fetch"))throw Error("Erro de conectividade. Verifique sua conex\xe3o com a internet.");throw e}}static async validateCredentials(e,t){try{return await this.login(e,t),!0}catch(e){return!1}}static async logout(e){}}let o=(0,r.createContext)(void 0);function n({children:e}){let[t,s]=(0,r.useState)(null),[n,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),m=()=>{try{["@xtream_user","@xtream_auth_state","@unlocked_adult_categories","@adult_movies_unlocked","@stream_type","@last_channel"].forEach(e=>{localStorage.removeItem(e)})}catch(e){console.error("Erro ao limpar cache do usu\xe1rio:",e)}},u=(e,t)=>{try{let s=localStorage.getItem("@xtream_user");if(s){let a=JSON.parse(s),r=a.username!==e,i=a.password!==t;if(r||i)return m(),!0}return!1}catch(e){return!1}},x=async(e,t)=>{try{u(e,t);let a=await i.login(e,t);return s(a),localStorage.setItem("@xtream_user",JSON.stringify(a)),localStorage.setItem("@xtream_auth_state","true"),!0}catch(e){throw console.error("❌ Erro no login IPTV:",e),e}},h=async()=>{try{let e=t?.username;e&&await i.logout(e),s(null),localStorage.removeItem("@xtream_user"),localStorage.removeItem("@xtream_auth_state"),m()}catch(e){s(null),localStorage.removeItem("@xtream_user"),localStorage.removeItem("@xtream_auth_state"),m()}};return(0,a.jsx)(o.Provider,{value:{userInfo:t,isLoading:n,isAuthenticated:!!t,isAutoLoggingIn:c,login:x,logout:h},children:e})}function l(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useXtream must be used within a XtreamProvider");return e}},82203:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>G});var a=s(60687),r=s(43210),i=s(85814),o=s.n(i),n=s(16189),l=s(24026),c=s(24555),d=s(76976),m=s(77368),u=s(29333),x=s(58595),h=s(49497),f=s(4780),p=s(77042),g=s(29523),j=s(29867),v=s(63503),y=s(96834),N=s(44493),w=s(35950),_=s(53597),b=s(26622),S=s(15036),C=s(48206),A=s(15846),P=s(99196);function I({children:e}){let{userInfo:t}=(0,p.n)();if(!t)return(0,a.jsx)(a.Fragment,{children:e});let s=()=>{if(!t.exp_date||"0"===t.exp_date||null===t.exp_date)return!1;try{return new Date(1e3*parseInt(t.exp_date))<new Date}catch(e){return!1}},r=s()?{label:"Expirada",variant:"destructive"}:"Active"===t.status?{label:"Ativa",variant:"default"}:{label:t.status,variant:"secondary"};return(0,a.jsxs)(v.lG,{children:[(0,a.jsx)(v.zM,{asChild:!0,children:e}),(0,a.jsxs)(v.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(v.c7,{children:[(0,a.jsxs)(v.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-5 h-5 text-primary"}),"Informa\xe7\xf5es da Conta IPTV"]}),(0,a.jsx)(v.rr,{children:"Detalhes completos da sua conta de acesso ao sistema."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(N.Zp,{children:[(0,a.jsx)(N.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(N.ZB,{className:"text-lg",children:t.username}),(0,a.jsx)(y.E,{variant:r.variant,children:r.label})]})}),(0,a.jsxs)(N.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(_.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Senha"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground font-mono",children:"•".repeat(t.password.length)})]})]}),(0,a.jsx)(w.w,{}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(b.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Data de Vencimento"}),(0,a.jsx)("p",{className:`text-sm ${s()?"text-red-600":"text-muted-foreground"}`,children:(e=>{if(!e||"0"===e||null===e)return"Sem vencimento";try{return new Date(1e3*parseInt(e)).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Data inv\xe1lida"}})(t.exp_date)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Conta Criada em"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:(e=>{try{return new Date(1e3*parseInt(e)).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(e){return"Data inv\xe1lida"}})(t.created_at)})]})]})]}),(0,a.jsx)(w.w,{}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Conex\xf5es"})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[t.active_cons,"/",t.max_connections]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Tipo de Conta"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"1"===t.is_trial?"Trial":"Premium"})]})]}),t.allowed_output_formats&&t.allowed_output_formats.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.w,{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Formatos Suportados"})]}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:t.allowed_output_formats.map((e,t)=>(0,a.jsx)(y.E,{variant:"outline",className:"text-xs",children:e.toUpperCase()},t))})]})]})]})]}),t.server_info&&(0,a.jsxs)(N.Zp,{children:[(0,a.jsxs)(N.aR,{className:"pb-3",children:[(0,a.jsx)(N.ZB,{className:"text-base",children:"Servidor IPTV"}),(0,a.jsx)(N.BT,{className:"text-sm",children:"Informa\xe7\xf5es do servidor de conex\xe3o"})]}),(0,a.jsx)(N.Wu,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"URL:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:t.server_info.url})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Porta:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:t.server_info.port})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Protocolo:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:t.server_info.server_protocol})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Timezone:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:t.server_info.timezone})]})]})})]})]})]})]})}let E=[{href:"/",label:"Solicita\xe7\xe3o de Conteudos",icon:l.A},{href:"/pedidos-adicionados",label:"Pedidos Adicionados",icon:c.A},{href:"/comunicados",label:"Comunicado Conteudos",icon:d.A},{href:"/atualizacoes",label:"Atualiza\xe7\xe3o de Conte\xfado",icon:m.A},{href:"/correcao",label:"Corre\xe7\xe3o de conteudos",icon:u.A}],$=()=>{let e=(0,n.usePathname)(),{userInfo:t,logout:s}=(0,p.n)(),{toast:r}=(0,j.dj)(),i=async()=>{try{await s(),r({title:"Logout Realizado",description:"Voc\xea foi desconectado com sucesso."})}catch(e){console.error("Erro no logout:",e),r({title:"Erro no Logout",description:"Ocorreu um erro ao fazer logout.",variant:"destructive"})}};return(0,a.jsxs)("aside",{className:"w-64 flex-shrink-0 bg-card border-r flex flex-col",children:[(0,a.jsxs)("div",{className:"h-16 flex items-center px-6 border-b",children:[(0,a.jsx)(d.A,{className:"w-8 h-8 mr-3 text-primary"}),(0,a.jsx)("h1",{className:"text-xl font-bold tracking-tight",children:"Pedidos Cine"})]}),(0,a.jsx)("nav",{className:"flex-grow px-4 py-6",children:(0,a.jsx)("ul",{className:"space-y-2",children:E.map(t=>(0,a.jsx)("li",{children:(0,a.jsxs)(o(),{href:t.href,className:(0,f.cn)("flex items-center gap-3 px-4 py-2 rounded-md text-base font-medium transition-colors",e===t.href?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[(0,a.jsx)(t.icon,{className:"w-5 h-5"}),t.label]})},t.label))})}),(0,a.jsxs)("div",{className:"p-4 border-t",children:[t&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(I,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg cursor-pointer hover:bg-muted/70 transition-colors",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(x.A,{className:"w-4 h-4 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:t.username}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Status: ",t.status]})]})]})})}),(0,a.jsxs)(g.$,{variant:"outline",size:"sm",onClick:i,className:"w-full flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),"Logout"]}),(0,a.jsx)("div",{className:"text-center mt-4 text-muted-foreground text-xs",children:(0,a.jsxs)("p",{children:["Pedidos Cine \xa9 ",new Date().getFullYear()]})})]})]})};var T=s(19210),V=s(17357),k=s(14947),R=s(24343);let D=({onMenuClick:e})=>(0,a.jsx)("header",{className:"bg-card/30 backdrop-blur-lg border-b sticky top-0 z-10 lg:hidden",children:(0,a.jsx)("div",{className:"container mx-auto px-4 h-16 flex items-center",children:(0,a.jsxs)(g.$,{variant:"ghost",size:"icon",onClick:e,className:"mr-4",children:[(0,a.jsx)(R.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"sr-only",children:"Abrir Menu"})]})})});var U=s(10991),z=s(24224),L=s(78726);let M=U.bL;U.l9,U.bm;let F=U.ZL,O=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(U.hJ,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));O.displayName=U.hJ.displayName;let B=(0,z.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),X=r.forwardRef(({side:e="right",className:t,children:s,...r},i)=>(0,a.jsxs)(F,{children:[(0,a.jsx)(O,{}),(0,a.jsxs)(U.UC,{ref:i,className:(0,f.cn)(B({side:e}),t),...r,children:[s,(0,a.jsxs)(U.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(L.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));X.displayName=U.UC.displayName;let J=({className:e,...t})=>(0,a.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});J.displayName="SheetHeader";let Z=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(U.hE,{ref:s,className:(0,f.cn)("text-lg font-semibold text-foreground",e),...t}));Z.displayName=U.hE.displayName,r.forwardRef(({className:e,...t},s)=>(0,a.jsx)(U.VY,{ref:s,className:(0,f.cn)("text-sm text-muted-foreground",e),...t})).displayName=U.VY.displayName;var Y=s(89667),q=s(80013);function H(){let[e,t]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,n]=(0,r.useState)(!1),{login:l}=(0,p.n)(),{toast:c}=(0,j.dj)(),d=async t=>{t.preventDefault(),n(!0);try{await l(e,s),c({title:"Login Realizado",description:"Autentica\xe7\xe3o IPTV realizada com sucesso!"})}catch(t){console.error("Erro no login IPTV:",t);let e="Erro desconhecido. Tente novamente.";t instanceof Error&&(e=t.message),c({title:"Erro de Autentica\xe7\xe3o",description:e,variant:"destructive"})}finally{n(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:[(0,a.jsx)("div",{className:"flex-grow flex items-center justify-center p-4",children:(0,a.jsxs)(N.Zp,{className:"w-full max-w-md",children:[(0,a.jsxs)(N.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"flex justify-center items-center mb-4",children:(0,a.jsx)(A.A,{className:"w-12 h-12 text-primary"})}),(0,a.jsx)(N.ZB,{className:"text-2xl",children:"Autentica\xe7\xe3o IPTV"}),(0,a.jsx)(N.BT,{children:"Entre com suas credenciais IPTV para acessar o sistema de pedidos."})]}),(0,a.jsx)(N.Wu,{children:(0,a.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(q.J,{htmlFor:"username",children:"Usu\xe1rio IPTV"}),(0,a.jsx)(Y.p,{id:"username",type:"text",placeholder:"Seu usu\xe1rio IPTV",value:e,onChange:e=>t(e.target.value),required:!0,disabled:o})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(q.J,{htmlFor:"password",children:"Senha IPTV"}),(0,a.jsx)(Y.p,{id:"password",type:"password",placeholder:"Sua senha IPTV",value:s,onChange:e=>i(e.target.value),required:!0,disabled:o})]}),(0,a.jsx)(g.$,{type:"submit",className:"w-full",disabled:o,children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-foreground mr-2"}),"Autenticando..."]}):"Entrar"})]})})]})}),(0,a.jsx)("footer",{className:"text-center p-4 text-muted-foreground text-sm",children:(0,a.jsxs)("p",{children:["Pedidos Cine \xa9 ",new Date().getFullYear()]})})]})}function W({children:e}){let{isAuthenticated:t,isLoading:s,isAutoLoggingIn:r}=(0,p.n)();return s||r?(0,a.jsx)("div",{className:"flex flex-col min-h-screen bg-background text-foreground",children:(0,a.jsx)("div",{className:"flex-grow flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:r?"Conectando automaticamente...":"Carregando..."}),(0,a.jsx)("p",{className:"text-muted-foreground",children:r?"Verificando suas credenciais IPTV":"Inicializando sistema"})]})]})})}):t?(0,a.jsx)(a.Fragment,{children:e}):(0,a.jsx)(H,{})}function Q({children:e}){return(0,a.jsx)(p.H,{children:(0,a.jsx)(W,{children:e})})}function G({children:e}){let[t,s]=(0,r.useState)(!1);return(0,a.jsx)(Q,{children:(0,a.jsxs)(T.L,{children:[(0,a.jsx)(V.A,{}),(0,a.jsxs)("div",{className:"flex h-screen bg-background text-foreground",children:[(0,a.jsx)("div",{className:"hidden lg:flex lg:flex-shrink-0",children:(0,a.jsx)($,{})}),(0,a.jsx)(M,{open:t,onOpenChange:s,children:(0,a.jsxs)(X,{side:"left",className:"p-0 w-64",children:[(0,a.jsx)(J,{children:(0,a.jsx)(Z,{className:"sr-only",children:"Menu"})}),(0,a.jsx)($,{})]})}),(0,a.jsxs)("div",{className:"flex flex-col flex-1 overflow-hidden",children:[(0,a.jsx)(D,{onMenuClick:()=>s(!0)}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto",children:e})]})]}),(0,a.jsx)(k.l,{})]})})}}};